(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{130:function(e,t,a){},183:function(e,t,a){},213:function(e,t,a){},286:function(e,t,a){e.exports=a(543)},359:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){},42:function(e,t,a){},524:function(e,t,a){},537:function(e,t,a){},543:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(15),o=a.n(i),s=a(120),u=a(5),l=a(9),d=a(10),c=a(13),p=a(11),m=a(12),h=a(46),f=a(548),y=a(53),_=a(18),v=a(211),b=a(549),E=a(550),g=a(560),x=(a(545),a(103)),D=a.n(x),S=function(e){return r.a.createElement(D.a,Object.assign({},e,{maxWidth:780}))},O=function(e){return r.a.createElement(D.a,Object.assign({},e,{minWidth:790}))},C=(a(42),a(48)),j=a(34),w=a(92),k=(a(213),a(112)),I=a.n(k).a.initializeApp({apiKey:"AIzaSyDYO5FfdKiE6zp2Bt1rdYUnhL3xxNt3uBI",authDomain:"react-firebase-auth-272e9.firebaseapp.com",databaseURL:"https://react-firebase-auth-272e9.firebaseio.com",projectId:"react-firebase-auth-272e9",storageBucket:"react-firebase-auth-272e9.appspot.com",messagingSenderId:"922542910301",appId:"1:922542910301:web:7d9383dd9b746ba41816b4",measurementId:"G-7LTMHK4P84"}),M=f.a.Header,$=Object(w.h)((function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),i=a[0],o=a[1],s=(Object(w.g)(),Object(C.c)((function(e){return e.currentComponetReducer.sideBarMenuItemKey}))),u=r.a.createElement("div",null,r.a.createElement("div",{style:{width:250,height:250,background:"skyblue"}},r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement("img",{src:e.user.photoURL,alt:"Logo",className:"profileImage",style:{borderRadius:100}}),r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement("div",{align:"center",style:{color:"black",height:"20px"}},e.user.displayName),r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement("div",{align:"center",style:{color:"black",height:"80px"}},e.user.email)),r.a.createElement(b.a,null),r.a.createElement("div",null,r.a.createElement(v.a.Item,{key:"profile"},r.a.createElement(j.b,{to:""},r.a.createElement(_.a,{type:"profile"})," Profile")),r.a.createElement(v.a.Item,{key:"help"},r.a.createElement(j.b,{to:""},r.a.createElement(_.a,{type:"question-circle"})," Help")),r.a.createElement(v.a.Item,{key:"settings"},r.a.createElement(j.b,{to:""},r.a.createElement(_.a,{type:"setting"})," Help")),r.a.createElement(v.a.Item,{key:"logOut",onClick:function(){I.auth().signOut().then((function(){}))}},r.a.createElement(j.b,{to:""},r.a.createElement(_.a,{type:"logout"})," Log Out")))),l=r.a.createElement(v.a,{theme:"dark",mode:i?"vertical":"horizontal",defaultSelectedKeys:"/",selectedKeys:[s],style:{lineHeight:"64px"}},r.a.createElement(v.a.Item,{key:"dashboard"},r.a.createElement(j.b,{to:"/"}," Dash Board")),r.a.createElement(v.a.Item,{key:"paystub"},r.a.createElement(j.b,{to:"/paystub/manualentry"}," Pay Stub")),r.a.createElement(v.a.Item,{key:"budget"},r.a.createElement(j.b,{to:"/budget/budgetEntry"},"Budget")),r.a.createElement(v.a.Item,{key:"advice"},r.a.createElement(j.b,{to:"/advice"}," Advice")),r.a.createElement(v.a.Item,{key:"goals"},r.a.createElement(j.b,{to:"/goals"}," Goals")),r.a.createElement(v.a.Item,{key:"calculator"},r.a.createElement(j.b,{to:"/calculator"},"Calculators")),r.a.createElement(v.a.Item,{key:"accounts"},r.a.createElement(j.b,{to:"/accounts/cash"},"Accounts")),r.a.createElement(v.a.Item,{key:"user",hidden:i},r.a.createElement("span",null,r.a.createElement(E.a,{placement:"bottom",content:u,trigger:"click"},e.user.photoURL?r.a.createElement("img",{src:e.user.photoURL,alt:"Logo",style:{width:50,height:50,borderRadius:50}}):r.a.createElement(_.a,{type:"user"})))));return r.a.createElement(M,{className:"app-header"},r.a.createElement("div",{className:"logo"},r.a.createElement(_.a,{type:"dollar"}),"mart Money"),r.a.createElement(O,null,l),r.a.createElement(S,null,r.a.createElement(_.a,{type:"bars",size:"large",className:"nav-icon",onClick:function(){return o(!0)}}),r.a.createElement(g.a,{title:"",placement:"right",closable:!0,onClose:function(){return o(!1)},visible:i,className:"nav-drawer"},r.a.createElement("div",{className:"logo"},r.a.createElement(_.a,{type:"dollar"}),"mart Money"),l)))})),T="CURRENT_COMPONENT",F=a(266),N=a(56),P=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).state={firstName:"",lastName:""},e.handleFirstNameChanged=e.handleFirstNameChanged.bind(Object(N.a)(e)),e.handleLastNameChanged=e.handleLastNameChanged.bind(Object(N.a)(e)),e}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleFirstNameChanged",value:function(e){this.setState({firstName:e.target.value})}},{key:"handleLastNameChanged",value:function(e){this.setState({lastName:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"six columns"},r.a.createElement("label",null,"First Name"),r.a.createElement("input",{className:"u-full-width",placeholder:"First Name",type:"text",onChange:this.handleFirstNameChanged,value:this.state.firstName,autoFocus:!0}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"six columns"},r.a.createElement("label",null,"Last Name"),r.a.createElement("input",{className:"u-full-width",placeholder:"Last Name",type:"text",onChange:this.handleLastNameChanged,value:this.state.lastName}))))}}]),t}(r.a.Component),R=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).state={email:"",emailConfirm:""},e.handleEmailChanged=e.handleEmailChanged.bind(Object(N.a)(e)),e.handleEmailConfirmChanged=e.handleEmailConfirmChanged.bind(Object(N.a)(e)),e}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleEmailChanged",value:function(e){this.setState({email:e.target.value})}},{key:"handleEmailConfirmChanged",value:function(e){this.setState({emailConfirm:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"six columns"},r.a.createElement("label",null,"Your email"),r.a.createElement("input",{className:"u-full-width required",placeholder:"test@mailbox.com",type:"email",onChange:this.handleEmailChanged,value:this.state.email,autoFocus:!0}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"six columns"},r.a.createElement("label",null,"Confirm email"),r.a.createElement("input",{className:"u-full-width",placeholder:"Confirm email",type:"email",onChange:this.handleEmailConfirmChanged,value:this.state.emailConfirm}))))}}]),t}(r.a.Component),V=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).state={password:"",passwordConfirm:""},e.handlePasswordChanged=e.handlePasswordChanged.bind(Object(N.a)(e)),e.handlePasswordConfirmChanged=e.handlePasswordConfirmChanged.bind(Object(N.a)(e)),e}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handlePasswordChanged",value:function(e){this.setState({password:e.target.value})}},{key:"handlePasswordConfirmChanged",value:function(e){this.setState({passwordConfirm:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"six columns"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{className:"u-full-width required",placeholder:"Password",type:"password",onChange:this.handlePasswordChanged,value:this.state.password,autoFocus:!0}))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"six columns"},r.a.createElement("label",null,"Confirm password"),r.a.createElement("input",{className:"u-full-width",placeholder:"Confirm Password",type:"password",onChange:this.handlePasswordConfirmChanged,value:this.state.passwordConfirm}))))}}]),t}(r.a.Component),A=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(p.a)(t).call(this))).state={checked:""},e.handleCheckedChanged=e.handleCheckedChanged.bind(Object(N.a)(e)),e}return Object(m.a)(t,e),Object(d.a)(t,[{key:"handleCheckedChanged",value:function(e){this.setState({checked:e.target.checked})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"ten columns terms"},r.a.createElement("span",null,'By clicking "Accept" I agree that:'),r.a.createElement("ul",{className:"docs-terms"},r.a.createElement("li",null,"I have read and accepted the ",r.a.createElement("a",{href:"#"},"User Agreement")),r.a.createElement("li",null,"I have read and accepted the ",r.a.createElement("a",{href:"#"},"Privacy Policy")),r.a.createElement("li",null,"I am at least 18 years old")),r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",checked:this.state.checked,onChange:this.handleCheckedChanged,autoFocus:!0}),r.a.createElement("span",null," Accept ")," "))))}}]),t}(r.a.Component),B=[{name:"Name",component:r.a.createElement(P,null)},{name:"Email",component:r.a.createElement(R,null)},{name:"Password",component:r.a.createElement(V,null)},{name:"Agreement",component:r.a.createElement(A,null)}],L=(a(359),a(360),a(361),a(183),function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement(F.a,{steps:B})))}),q=a(28),K=a(136),z=a(166),Y=a(16),Q=a.n(Y),W=new Q.a,H=Q()([W._d.getFullYear(),W._d.getMonth(),1]).format("YYYY-MM-DD"),U=Q()(H).daysInMonth(),J=Q()(H).dayOfYear(),G=Q()(H).add(U-1,"days").format("YYYY-MM-DD"),X=Q()(H).add(U-1,"days").format("YYYY-MM-DD"),Z=Q()(H).subtract(J-1,"days").format("YYYY-MM-DD"),ee=["Annually","Quarterly","Monthly","Weekly","Fortnightly"],te=[{0:1},{1:4},{2:12},{3:54},{4:26}],ae=a(47),ne=a.n(ae),re=a(21),ie=a(20),oe=a.n(ie);function se(){var e=Object(re.a)(["\n    mutation deleteSaving($id: ID!) {\n        deleteSaving(where: { id: $id }) {\n            id\n        }\n    }\n"]);return se=function(){return e},e}function ue(){var e=Object(re.a)(["\n    mutation updateSaving(\n        $id: ID!\n        $user_id: String!\n        $duration: Int\n        $saving_amount: Float\n        $saving_type: ID!\n        $spouse_amount: Float\n        $spouse_duration: Int\n    ) {\n        updateSaving(\n            where: { id: $id }\n            data: {\n                user_id: $user_id\n                duration: $duration\n                saving_amount: $saving_amount\n                saving_type: $saving_type\n                spouse_amount: $spouse_amount\n                spouse_duration: $spouse_duration\n            }\n        ) {\n            id\n        }\n    }\n"]);return ue=function(){return e},e}function le(){var e=Object(re.a)(["\n    mutation createSaving($user_id: String!, $saving_type: String!,$transactionDate:DateTime!) {\n        createSaving(\n            data: {\n                user_id: $user_id\n                saving_type: {\n                    create: { saving_type: $saving_type, status: ACTIVE }\n                }\n                duration: 0\n                saving_amount: 0\n                spouse_amount: 0\n                spouse_duration:0\n                transactionDate:$transactionDate\n            }\n        ) {\n            id\n            user_id\n        }\n    }\n"]);return le=function(){return e},e}var de=oe()(le()),ce=oe()(ue()),pe=oe()(se());function me(){var e=Object(re.a)(["\nquery getAllMonthelySavings($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n    savings(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n        id\n        user_id\n        duration\n        saving_amount\n        saving_type {\n            id\n            saving_type\n            status\n        }\n        spouse_amount\n        spouse_duration\n         transactionDate\n    },\n    extraRetirementSavingses(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n        id\n        user_id\n        duration\n        extra_retirement_saving_amount\n        extra_retirement_saving_type {\n            id\n            extra_retirement_saving_type\n            status\n        }\n        spouse_amount\n        spouse_duration\n        transactionDate\n    }\n    \n}\n\n"]);return me=function(){return e},e}function he(){var e=Object(re.a)(["\nquery getAllMonthelySavings($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n    savings(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n        id\n        user_id\n        duration\n        saving_amount\n        saving_type {\n            id\n            saving_type\n            status\n        }\n        spouse_amount\n        spouse_duration   \n    }\n}\n"]);return he=function(){return e},e}function fe(){var e=Object(re.a)(["\n    query getAllSavings {\n        savings {\n            id\n            user_id\n            duration\n            saving_amount\n            saving_type {\n                id\n                saving_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n    \n"]);return fe=function(){return e},e}oe()(fe());var ye=oe()(he()),_e=oe()(me()),ve=a(22),be=a(551),Ee=a(553),ge=a(122),xe=a(75),De=a(559),Se=(a(78),a(81)),Oe=a(556),Ce=r.a.createContext(void 0,void 0),je=Oe.a.create()((function(e){var t=e.form,a=(e.index,Object(Se.a)(e,["form","index"]));return r.a.createElement(Ce.Provider,{value:t},r.a.createElement("tr",a))})),we=a(557),ke=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={editing:!1},a.toggleEdit=function(){var e=!a.state.editing;a.setState({editing:e},(function(){e&&a.input.focus()}))},a.save=function(e){var t=a.props,n=t.record,r=t.handleSave;a.form.validateFields((function(t,i){t&&t[e.currentTarget.id]||(a.toggleEdit(),r(Object(ve.a)({},n,{},i)))}))},a.renderCell=function(e){a.form=e;var t=a.props,n=t.children,i=t.dataIndex,o=t.record,s=t.title;return a.state.editing?r.a.createElement(Oe.a.Item,{style:{margin:0}},e.getFieldDecorator(i,{rules:[{required:!0,message:"".concat(s," is required.")}],initialValue:o[i]})(r.a.createElement(we.a,{ref:function(e){return a.input=e},onPressEnter:a.save,onBlur:a.save}))):r.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:a.toggleEdit},n)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.editable,a=(e.dataIndex,e.title,e.record,e.index,e.handleSave,e.children),n=Object(Se.a)(e,["editable","dataIndex","title","record","index","handleSave","children"]);return r.a.createElement("td",n,t?r.a.createElement(Ce.Consumer,null,this.renderCell):a)}}]),t}(r.a.Component);function Ie(){var e=Object(re.a)(["\n    query getAllIncome($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n        salaries(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            salary_amount\n            salary_category_id {\n                id\n                salary_type_name\n                status\n            }\n            spouse_salary\n            spouse_duration\n            transactionDate\n        },\n        benefitses(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            salary_amount\n            benefit_type {\n                id\n                benefit_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n            transactionDate\n        }\n        \n    }\n"]);return Ie=function(){return e},e}var Me=oe()(Ie());function $e(){var e=Object(re.a)(["\n    mutation deleteFixedExpenses($id: ID!) {\n        deleteFixedExpenses(where: { id: $id }) {\n            id\n        }\n    }\n"]);return $e=function(){return e},e}function Te(){var e=Object(re.a)(["\n    mutation updateFixedExpenses(\n        $id: ID!\n        $user_id: String!\n        $duration: Int\n        $fixed_expense_amount: Float\n        $fixed_expense_type: ID!\n        $spouse_amount: Float\n        $spouse_duration: Int\n    ) {\n        updateFixedExpenses(\n            where: { id: $id }\n            data: {\n                user_id: $user_id\n                duration: $duration\n                fixed_expense_amount: $fixed_expense_amount\n                fixed_expense_type: $fixed_expense_type\n                spouse_amount: $spouse_amount\n                spouse_duration: $spouse_duration\n            }\n        ) {\n            id\n        }\n    }\n"]);return Te=function(){return e},e}function Fe(){var e=Object(re.a)(["\n    mutation createFixedExpenses($user_id: String!, $fixed_expense_type: String!,$transactionDate:DateTime!) {\n        createFixedExpenses(\n            data: {\n                user_id: $user_id\n                fixed_expense_type: {\n                    create: { fixed_expense_type: $fixed_expense_type, status: ACTIVE }\n                }\n                duration: 0\n                fixed_expense_amount: 0\n                spouse_amount: 0\n                spouse_duration:0\n                transactionDate:$transactionDate\n            }\n        ) {\n            id\n            user_id\n        }\n    }\n"]);return Fe=function(){return e},e}var Ne=oe()(Fe()),Pe=oe()(Te()),Re=oe()($e());function Ve(){var e=Object(re.a)(["\n    mutation deleteVariableExpenses($id: ID!) {\n        deleteVariableExpenses(where: { id: $id }) {\n            id\n        }\n    }\n"]);return Ve=function(){return e},e}function Ae(){var e=Object(re.a)(["\n    mutation updateVariableExpenses(\n        $id: ID!\n        $user_id: String!\n        $duration: Int\n        $variable_expense_amount: Float\n        $variable_expense_type: ID!\n        $spouse_amount: Float\n        $spouse_duration: Int\n    ) {\n        updateVariableExpenses(\n            where: { id: $id }\n            data: {\n                user_id: $user_id\n                duration: $duration\n                variable_expense_amount: $variable_expense_amount\n                variable_expense_type: $variable_expense_type\n                spouse_amount: $spouse_amount\n                spouse_duration: $spouse_duration\n            }\n        ) {\n            id\n        }\n    }\n"]);return Ae=function(){return e},e}function Be(){var e=Object(re.a)(["\n    mutation createVariableExpenses($user_id: String!, $variable_expense_type: String!,$transactionDate:DateTime!) {\n        createVariableExpenses(\n            data: {\n                user_id: $user_id\n                variable_expense_type: {\n                    create: { variable_expense_type: $variable_expense_type, status: ACTIVE }\n                }\n                duration: 0\n                variable_expense_amount: 0\n                spouse_amount: 0\n                spouse_duration:0\n                transactionDate:$transactionDate\n            }\n        ) {\n            id\n            user_id\n        }\n    }\n"]);return Be=function(){return e},e}var Le=oe()(Be()),qe=oe()(Ae()),Ke=oe()(Ve());function ze(){var e=Object(re.a)(["\n    mutation deleteBillsAmount($id: ID!) {\n        deleteBillsAmount(where: { id: $id }) {\n            id\n        }\n    }\n"]);return ze=function(){return e},e}function Ye(){var e=Object(re.a)(["\n    mutation updateBillsAmount(\n        $id: ID!\n        $user_id: String!\n        $duration: Int\n        $bill_amount: Float\n        $bill_type: ID!\n        $spouse_amount: Float\n        $spouse_duration: Int\n    ) {\n        updateBillsAmount(\n            where: { id: $id }\n            data: {\n                user_id: $user_id\n                duration: $duration\n                bill_amount: $bill_amount\n                bill_type: $bill_type\n                spouse_amount: $spouse_amount\n                spouse_duration: $spouse_duration\n            }\n        ) {\n            id\n        }\n    }\n"]);return Ye=function(){return e},e}function Qe(){var e=Object(re.a)(["\n    mutation createBillsAmount($user_id: String!, $bills_type: String!,$transactionDate:DateTime!) {\n        createBillsAmount(\n            data: {\n                user_id: $user_id\n                bill_type: {\n                    create: { bills_type: $bills_type, status: ACTIVE }\n                }\n                duration: 0\n                bill_amount: 0\n                spouse_amount: 0\n                spouse_duration:0\n                transactionDate:$transactionDate\n            }\n        ) {\n            id\n            user_id\n        }\n    }\n"]);return Qe=function(){return e},e}var We=oe()(Qe()),He=oe()(Ye()),Ue=oe()(ze());function Je(){var e=Object(re.a)(["\n    query getAllSpending($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n        billsAmounts(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            bill_amount\n            bill_type {\n                id\n                bills_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n            transactionDate\n        },\n        variableExpenseses(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            variable_expense_amount\n            variable_expense_type {\n                id\n                variable_expense_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n            transactionDate\n        },\n        fixedExpenseses(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            fixed_expense_amount\n            fixed_expense_type {\n                id\n                fixed_expense_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n            transactionDate\n        }\n\n    }\n"]);return Je=function(){return e},e}var Ge=oe()(Je()),Xe=a(39),Ze=a.n(Xe),et=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={chartData:[],options:{chart:{stacked:!0,stackType:"100%"},responsive:[{breakpoint:580,options:{chart:{width:300},legend:{position:"bottom",offsetX:-10,offsetY:0}}}],xaxis:{categories:a.props.month},fill:{opacity:1},legend:{position:"bottom",offsetX:1},tooltip:{style:{fontSize:"12px",background:"#00a0e9"}}}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({chartData:this.props.chartData})}},{key:"render",value:function(){return r.a.createElement(Ze.a,{options:this.state.options,series:this.props.chartData,type:"bar",height:"270",width:"350"})}}]),t}(r.a.Component),tt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={options:{legend:{position:"bottom"},labels:a.props.spendingTypeChartLavel,responsive:[{breakpoint:580,options:{chart:{width:300},legend:{position:"top"}}}]}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({chartData:this.props.spendingTypeChartSeries})}},{key:"render",value:function(){return r.a.createElement(Ze.a,{options:this.state.options,series:this.props.spendingTypeChartSeries,type:"pie",height:"240",width:"350"})}}]),t}(r.a.Component),at=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={paiChartData:[],options:{labels:a.props.paiChartLabels,legend:{position:"bottom"},responsive:[{breakpoint:580,options:{chart:{width:300},legend:{position:"top"}}}]}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({chartData:this.props.chartData})}},{key:"render",value:function(){return r.a.createElement(Ze.a,{options:this.state.options,series:this.props.paiChartData,type:"pie",height:"284",width:"350"})}}]),t}(r.a.Component);function nt(){var e=Object(re.a)(["\n    mutation deleteExtraRetirementSavings($id: ID!) {\n        deleteExtraRetirementSavings(where: { id: $id }) {\n            id\n        }\n    }\n"]);return nt=function(){return e},e}function rt(){var e=Object(re.a)(["\n    mutation updateExtraRetirementSavings(\n        $id: ID!\n        $user_id: String!\n        $duration: Int\n        $extra_retirement_saving_amount: Float\n        $extra_retirement_saving_type: ID!\n        $spouse_amount: Float\n        $spouse_duration: Int\n    ) {\n        updateExtraRetirementSavings(\n            where: { id: $id }\n            data: {\n                user_id: $user_id\n                duration: $duration\n                extra_retirement_saving_amount: $extra_retirement_saving_amount\n                extra_retirement_saving_type: $extra_retirement_saving_type\n                spouse_amount: $spouse_amount\n                spouse_duration: $spouse_duration\n            }\n        ) {\n            id\n        }\n    }\n"]);return rt=function(){return e},e}function it(){var e=Object(re.a)(["\n    mutation createExtraRetirementSavings($user_id: String!, $extra_retirement_saving_type: String!,$transactionDate:DateTime!) {\n        createExtraRetirementSavings(\n            data: {\n                user_id: $user_id\n                extra_retirement_saving_type: {\n                    create: { extra_retirement_saving_type: $extra_retirement_saving_type, status: ACTIVE }\n                }\n                duration: 0\n                extra_retirement_saving_amount: 0\n                spouse_amount: 0\n                spouse_duration:0\n                transactionDate:$transactionDate\n            }\n        ) {\n            id\n            user_id\n        }\n    }\n"]);return it=function(){return e},e}var ot=oe()(it()),st=oe()(rt()),ut=oe()(nt());function lt(){var e=Object(re.a)(["\n    query getAllExtraRetirementSavings($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n        extraRetirementSavingses(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            extra_retirement_saving_amount\n            extra_retirement_saving_type {\n                id\n                extra_retirement_saving_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return lt=function(){return e},e}function dt(){var e=Object(re.a)(["\n    query getAllExtraRetirementSavings {\n        extraRetirementSavingses {\n            id\n            user_id\n            duration\n            extra_retirement_saving_amount\n            extra_retirement_saving_type {\n                id\n                extra_retirement_saving_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return dt=function(){return e},e}oe()(dt());var ct=oe()(lt()),pt=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deleteSavingMutation({variables:{id:e},refetchQueries:[{query:ye,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));"savings"===e.type?a.props.updateSavingMutation({variables:{user_id:e.user_id,duration:i,saving_amount:parseFloat(e.primaryamount),saving_type:e.saving_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:ye,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}):"extraRetirementSavingses"===e.type&&a.props.updateExtraSavingMutation({variables:{user_id:e.user_id,duration:i,extra_retirement_saving_amount:parseFloat(e.primaryamount),extra_retirement_saving_type:e.extra_retirement_saving_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:ct,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t,n){var r=ee.findIndex((function(t){return e===t}));"savings"===n?a.props.updateSavingMutation({variables:{user_id:t.user_id,duration:r,saving_type:t.saving_type.id,id:t.id},refetchQueries:[{query:ye,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}):"extraRetirementSavingses"===n&&a.props.updateExtraSavingMutation({variables:{user_id:t.user_id,duration:r,extra_retirement_saving_type:t.extra_retirement_saving_type.id,id:t.id},refetchQueries:[{query:ct,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]})},a.handleSpouseDurationChange=function(e,t,n){var r=ee.findIndex((function(t){return e===t}));"savings"===n?a.props.updateSavingMutation({variables:{user_id:t.user_id,spouse_duration:r,saving_type:t.saving_type.id,id:t.id},refetchQueries:[{query:ye,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}):"extraRetirementSavingses"===n&&a.props.updateExtraSavingMutation({variables:{user_id:t.user_id,spouse_duration:r,extra_retirement_saving_type:t.extra_retirement_saving_type.id,id:t.id},refetchQueries:[{query:ct,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[],durationView:0},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData}),this.setState({durationView:this.props.durationView})}},{key:"componentWillReceiveProps",value:function(e){this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=(t.durationView,this.state.salaryData);a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:300},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:200},{title:ee[this.props.durationView],dataIndex:"primaryDurationAmount",key:"primaryDurationAmount",editable:!1,width:200},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:200},{title:ee[this.props.durationView],dataIndex:"spouseDurationAmount",key:"spouseDurationAmount",editable:!1,width:200},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-income-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:{pageSize:5},scroll:{y:230},size:"small",bordered:!0,useFixedHeader:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:3}),r.a.createElement(xe.a,{span:4},r.a.createElement("div",{className:"incomeFont"},"Total  ",ee[this.props.durationView])),r.a.createElement(xe.a,{span:4}),r.a.createElement(xe.a,{span:6},r.a.createElement(De.a,{className:"incomeFont",title:"Primary Savings",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:2}),r.a.createElement(xe.a,{span:3},r.a.createElement(De.a,{className:"incomeFont",title:"Spouse  Savings",value:this.props.spouseTotalSalary}))),r.a.createElement(b.a,{style:{height:1}}),r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"flex-col"},r.a.createElement(et,{onRef:function(t){return e.child=t},chartData:this.props.chartData,month:this.props.month})),r.a.createElement("div",{className:"flex-col"}," ",r.a.createElement(tt,{onRef:function(t){return e.child=t},spendingTypeChartLavel:this.props.spendingTypeChartLavel,spendingTypeChartSeries:this.props.spendingTypeChartSeries})),r.a.createElement("div",{className:"flex-col"}," ",r.a.createElement(at,{onRef:function(t){return e.child=t},paiChartData:this.props.paiChartData,paiChartLabels:this.props.paiChartLabels}))))}}]),t}(r.a.Component)),mt=Object(u.d)(Object(u.e)(ce,{name:"updateSavingMutation"}),Object(u.e)(st,{name:"updateExtraSavingMutation"}),Object(u.e)(pe,{name:"deleteSavingMutation"}),Object(u.e)(ut,{name:"deleteExtraSavingMutation"}))(Object(u.f)(pt)),ht=K.a.Option,ft=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t,n){a.child.handlePrimaryDurationChange(e,t,n)},a.handleSpouseDurationChange=function(e,t,n){a.child.handleSpouseDurationChange(e,t,n)},a.state={durationView:0,startDate:G,endDate:Z,disabled:[],chartColors:{primaryBenefit:"#e96d8d",spouseBenefit:"#40ee86",primarySalary:"#67d6c0",spouseSalary:"#127197"}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.durationView;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(z.a.Group,{defaultValue:"0",buttonStyle:"solid",onChange:function(t){e.setState({durationView:t.target.value})}},r.a.createElement(z.a.Button,{value:"0"},"Annually"),r.a.createElement(z.a.Button,{value:"1"},"Quarterly"),r.a.createElement(z.a.Button,{value:"2"},"Monthly"),r.a.createElement(z.a.Button,{value:"3"},"Weekly"),r.a.createElement(z.a.Button,{value:"4"},"Fortnightly")),r.a.createElement(u.c,{query:_e,variables:{user_id:this.props.user.email,tranaction_start_date:this.state.endDate,transaction_end_date:this.state.startDate},fetchPolicy:"network-only"},(function(a){var n=a.loading,i=a.error,o=a.data;if(n)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(i)return r.a.createElement("div",null,"Error");var s=[],u=[];if(null!=o){var l=function(){var a=o.savings,n=o.extraRetirementSavingses,i=0,l=0,d=function(n){u.push({topic:a[n].saving_type.saving_type,month:Q()(a[n].transactionDate).format("MMMM"),primarySavings:Math.round(a[n].saving_amount*te[a[n].duration][a[n].duration]/te[t][t]),spouseSavings:Math.round(a[n].spouse_amount*te[a[n].spouse_duration][a[n].spouse_duration]/te[t][t]),primaryExtraRetirementSavingses:0,spouseExtraRetirementSavingses:0,salary_benefit:Math.round(a[n].saving_amount*te[a[n].duration][a[n].duration]/te[t][t])+Math.round(a[n].spouse_amount*te[a[n].spouse_duration][a[n].spouse_duration]/te[t][t])}),s.push({key:a[n].id,topic:a[n].saving_type.saving_type,type:"savings",saving_type_id:a[n].saving_type.id,user_id:a[n].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[a[n].duration],onChange:function(t){return e.handlePrimaryDurationChange(t,a[n],"savings")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(ht,{key:e,value:e},e)}))),primaryamount:a[n].saving_amount,primaryDurationAmount:Math.round(a[n].saving_amount*te[a[n].duration][a[n].duration]/te[t][t]),spouseduration:r.a.createElement(K.a,{defaultValue:ee[a[n].spouse_duration],onChange:function(t){return e.handleSpouseDurationChange(t,a[n],"savings")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(ht,{key:e,value:e},e)}))),spouseamount:a[n].spouse_amount,spouseDurationAmount:Math.round(a[n].spouse_amount*te[a[n].spouse_duration][a[n].spouse_duration]/te[t][t])}),i+=Math.round(a[n].saving_amount*te[a[n].duration][a[n].duration]/te[t][t]),l+=Math.round(a[n].spouse_amount*te[a[n].spouse_duration][a[n].spouse_duration]/te[t][t])};for(var c in a)d(c);var p=function(a){u.push({topic:n[a].extra_retirement_saving_type.extra_retirement_saving_type,month:Q()(n[a].transactionDate).format("MMMM"),primaryExtraRetirementSavingses:Math.round(n[a].extra_retirement_saving_amount*te[n[a].duration][n[a].duration]/te[t][t]),spouseExtraRetirementSavingses:Math.round(n[a].spouse_amount*te[n[a].spouse_duration][n[a].spouse_duration]/te[t][t]),primarySavings:0,spouseSavings:0,salary_benefit:Math.round(n[a].extra_retirement_saving_amount*te[n[a].duration][n[a].duration]/te[t][t])+Math.round(n[a].spouse_amount*te[n[a].spouse_duration][n[a].spouse_duration]/te[t][t])}),s.push({key:n[a].id,topic:n[a].extra_retirement_saving_type.extra_retirement_saving_type,type:"extraRetirementSavingses",extra_retirement_saving_type_id:n[a].extra_retirement_saving_type.id,user_id:n[a].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[n[a].duration],onChange:function(t){return e.handlePrimaryDurationChange(t,n[a],"extraRetirementSavingses")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(ht,{key:e,value:e},e)}))),primaryamount:n[a].extra_retirement_saving_amount,primaryDurationAmount:Math.round(n[a].extra_retirement_saving_amount*te[n[a].duration][n[a].duration]/te[t][t]),spouseduration:r.a.createElement(K.a,{defaultValue:ee[n[a].spouse_duration],onChange:function(t){return e.handleSpouseDurationChange(t,n[a],"extraRetirementSavingses")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(ht,{key:e,value:e},e)}))),spouseamount:n[a].spouse_amount,spouseDurationAmount:Math.round(n[a].spouse_amount*te[n[a].spouse_duration][n[a].spouse_duration]/te[t][t])}),i+=Math.round(n[a].extra_retirement_saving_amount*te[n[a].duration][n[a].duration]/te[t][t]),l+=Math.round(n[a].spouse_amount*te[n[a].spouse_duration][n[a].spouse_duration]/te[t][t])};for(var m in n)p(m);var h=[],f=[],y=ne()(u).groupBy("month").map((function(e,t){return{month:t,name:ne.a.map(e,"topic"),data:ne.a.map(e,"salary_benefit")}})).value();for(var _ in y)for(var v in h.push(y[_].month),y[_].name){var b=Object(q.a)(Array(y.length)).map((function(e){return 0}));b.splice(_,1,y[_].data[v]),f.push({name:y[_].name[v],data:b})}var E=[],g=[];ne()(f).groupBy("name").map((function(e,t){E.push(t),g.push(e[0].data.reduce((function(e,t){return e+t}),0))})).value();var x=0,D=0,S=0,O=0;u.filter((function(e){x+=e.primarySavings,D+=e.spouseSavings,S+=e.primaryExtraRetirementSavingses,O+=e.spouseExtraRetirementSavingses}));var C=[x,D,S,O];console.log(C);return{v:r.a.createElement(mt,{startDate:e.state.startDate,endDate:e.state.endDate,salaryData:s,primaryTotalSalary:i,spouseTotalSalary:l,onRef:function(t){return e.child=t},chartData:f,month:h,paiChartData:C,durationView:t,spendingTypeChartLavel:E,spendingTypeChartSeries:g,paiChartLabels:["Primary Savings","Spouse Savings","Primary Extra Saving","Spouse Extra Saving"],user:e.props.user})}}();if("object"===typeof l)return l.v}})))}}]),t}(r.a.Component),yt=Object(u.d)(Object(u.e)(de,{name:"createSavingsMutation"}))(Object(u.f)(ft)),_t=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={chartData:[],options:{chart:{stacked:!0,stackType:"100%"},responsive:[{breakpoint:580,options:{chart:{width:300},legend:{position:"bottom",offsetX:-10,offsetY:0}}}],xaxis:{categories:a.props.month},fill:{opacity:1},legend:{position:"right",offsetX:0,offsetY:50},tooltip:{style:{fontSize:"12px",background:"#00a0e9"}}}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({chartData:this.props.chartData})}},{key:"render",value:function(){return r.a.createElement(Ze.a,{options:this.state.options,series:this.props.chartData,type:"bar",height:"270",width:"550"})}}]),t}(r.a.Component);function vt(){var e=Object(re.a)(["\n    mutation deleteSalary($id: ID!) {\n        deleteSalary(where: { id: $id }) {\n            id\n        }\n    }\n"]);return vt=function(){return e},e}function bt(){var e=Object(re.a)(["\n    mutation updateSalary(\n        $id: ID!\n        $user_id: String!\n        $duration: Int\n        $salary_amount: Float\n        $salary_category_id: ID!\n        $spouse_salary: Float\n        $spouse_duration: Int\n    ) {\n        updateSalary(\n            where: { id: $id }\n            data: {\n                user_id: $user_id\n                duration: $duration\n                salary_amount: $salary_amount\n                salary_category_id: $salary_category_id\n                spouse_salary: $spouse_salary\n                spouse_duration: $spouse_duration\n            }\n        ) {\n            id\n        }\n    }\n"]);return bt=function(){return e},e}function Et(){var e=Object(re.a)(["\n    mutation createSalary($user_id: String!, $salary_type_name: String!,$transactionDate:DateTime!) {\n        createSalary(\n            data: {\n                user_id: $user_id\n                salary_category_id: {\n                    create: { salary_type_name: $salary_type_name, status: ACTIVE }\n                }\n                duration: 0\n                salary_amount: 0\n                spouse_salary: 0\n                spouse_duration:0\n                transactionDate:$transactionDate\n            }\n        ) {\n            id\n            user_id\n        }\n    }\n"]);return Et=function(){return e},e}var gt=oe()(Et()),xt=oe()(bt()),Dt=oe()(vt());function St(){var e=Object(re.a)(["\n    mutation deleteBenefit($id: ID!) {\n        deleteBenefits(where: { id: $id }) {\n            id\n        }\n    }\n"]);return St=function(){return e},e}function Ot(){var e=Object(re.a)(["\n    mutation updateBenefits(\n        $id: ID!\n        $user_id: String!\n        $duration: Int\n        $salary_amount: Float\n        $benefit_type: ID!\n        $spouse_amount: Float\n        $spouse_duration: Int\n    ) {\n        updateBenefits(\n            where: { id: $id }\n            data: {\n                user_id: $user_id\n                duration: $duration\n                salary_amount: $salary_amount\n                benefit_type: $benefit_type\n                spouse_amount: $spouse_amount\n                spouse_duration: $spouse_duration\n            }\n        ) {\n            id\n        }\n    }\n"]);return Ot=function(){return e},e}function Ct(){var e=Object(re.a)(["\n    mutation createBenefits($user_id: String!, $benfeit_type: String!,$transactionDate:DateTime!) {\n        createBenefits(\n            data: {\n                user_id: $user_id\n                benefit_type: {\n                    create: { benefit_type: $benfeit_type, status: ACTIVE }\n                }\n                duration: 0\n                salary_amount: 0\n                spouse_amount: 0\n                spouse_duration:0\n                transactionDate:$transactionDate\n            }\n        ) {\n            id\n            user_id\n        }\n    }\n"]);return Ct=function(){return e},e}var jt=oe()(Ct()),wt=oe()(Ot()),kt=oe()(St()),It=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={paiChartData:[],options:{labels:a.props.incomePaiChartLavels,responsive:[{breakpoint:580,options:{chart:{width:300},legend:{position:"top"}}}]}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({chartData:this.props.chartData})}},{key:"render",value:function(){return r.a.createElement(Ze.a,{options:this.state.options,series:this.props.paiChartData,type:"pie",height:"270",width:"550"})}}]),t}(r.a.Component);function Mt(){var e=Object(re.a)(["\n    query getAllBenefits($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n        benefitses(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            salary_amount\n            benefit_type {\n                id\n                benefit_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return Mt=function(){return e},e}function $t(){var e=Object(re.a)(["\n    query getAllBenefits {\n        benefitses {\n            id\n            user_id\n            duration\n            salary_amount\n            benefit_type {\n                id\n                benefit_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return $t=function(){return e},e}oe()($t());var Tt=oe()(Mt()),Ft=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deleteSavingMutation({variables:{id:e},refetchQueries:[{query:ye,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));"Salary"===e.type?a.props.updateSalaryMutation({variables:{user_id:e.user_id,duration:i,salary_amount:parseFloat(e.primaryamount),salary_category_id:e.salary_category_id,id:e.key,spouse_salary:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:Me,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}):a.props.updateBenefitsMutation({variables:{user_id:e.user_id,duration:i,salary_amount:parseFloat(e.primaryamount),benefit_type:e.benefit_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:Me,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t,n){var r=ee.findIndex((function(t){return e===t}));"Salary"===n?a.props.updateSalaryMutation({variables:{user_id:t.user_id,duration:r,salary_category_id:t.salary_category_id.id,id:t.id},refetchQueries:[{query:Me,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}):a.props.updateBenefitsMutation({variables:{user_id:t.user_id,duration:r,benefit_type:t.benefit_type.id,id:t.id},refetchQueries:[{query:Me,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]})},a.handleSpouseDurationChange=function(e,t,n){var r=ee.findIndex((function(t){return e===t}));"Salary"===n?a.props.updateSalaryMutation({variables:{user_id:t.user_id,duration:r,salary_category_id:t.salary_category_id.id,id:t.id},refetchQueries:[{query:Me,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}):a.props.updateBenefitsMutation({variables:{user_id:t.user_id,duration:r,benefit_type:t.benefit_type.id,id:t.id},refetchQueries:[{query:Me,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[],durationView:0},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData}),this.setState({durationView:this.props.durationView})}},{key:"componentWillReceiveProps",value:function(e){this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=(t.durationView,this.state.salaryData);a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:300},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:200},{title:ee[this.props.durationView],dataIndex:"primaryDurationAmount",key:"primaryDurationAmount",editable:!1,width:200},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:200},{title:ee[this.props.durationView],dataIndex:"spouseDurationAmount",key:"spouseDurationAmount",editable:!1,width:200},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-income-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:{pageSize:5},scroll:{y:230},size:"small",bordered:!0,useFixedHeader:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:3}),r.a.createElement(xe.a,{span:4},r.a.createElement("div",{className:"incomeFont"},"Total  ",ee[this.props.durationView])),r.a.createElement(xe.a,{span:4}),r.a.createElement(xe.a,{span:6},r.a.createElement(De.a,{className:"incomeFont",title:"Primary Income",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:2}),r.a.createElement(xe.a,{span:3},r.a.createElement(De.a,{className:"incomeFont",title:"Spouse  Income",value:this.props.spouseTotalSalary}))),r.a.createElement(b.a,{style:{height:1}}),r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"flex-col"},r.a.createElement(_t,{onRef:function(t){return e.child=t},chartData:this.props.chartData,month:this.props.month})),r.a.createElement("div",{className:"flex-col"}," ",r.a.createElement(It,{onRef:function(t){return e.child=t},paiChartData:this.props.paiChartData,incomePaiChartLavels:this.props.incomePaiChartLavels}))))}}]),t}(r.a.Component)),Nt=Object(u.d)(Object(u.e)(xt,{name:"updateSalaryMutation"}),Object(u.e)(wt,{name:"updateBenefitsMutation"}),Object(u.e)(Dt,{name:"deleteSalaryMutation"}),Object(u.e)(kt,{name:"deleteBenefitMutation"}))(Object(u.f)(Ft)),Pt=K.a.Option,Rt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t,n){a.child.handlePrimaryDurationChange(e,t,n)},a.handleSpouseDurationChange=function(e,t,n){a.child.handleSpouseDurationChange(e,t,n)},a.state={durationView:0,startDate:G,endDate:Z,disabled:[],chartColors:{primaryBenefit:"#e96d8d",spouseBenefit:"#40ee86",primarySalary:"#67d6c0",spouseSalary:"#127197"}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.durationView;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(z.a.Group,{defaultValue:"0",buttonStyle:"solid",onChange:function(t){e.setState({durationView:t.target.value})}},r.a.createElement(z.a.Button,{value:"0"},"Annually"),r.a.createElement(z.a.Button,{value:"1"},"Quarterly"),r.a.createElement(z.a.Button,{value:"2"},"Monthly"),r.a.createElement(z.a.Button,{value:"3"},"Weekly"),r.a.createElement(z.a.Button,{value:"4"},"Fortnightly")),r.a.createElement(u.c,{query:Me,variables:{user_id:this.props.user.email,tranaction_start_date:this.state.endDate,transaction_end_date:this.state.startDate},fetchPolicy:"network-only"},(function(a){var n=a.loading,i=a.error,o=a.data;if(n)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(i)return r.a.createElement("div",null,"Error");var s=[],u=[];if(null!=o){var l=function(){var a=o.salaries,n=o.benefitses,i=0,l=0,d=function(o){u.push({topic:a[o].salary_category_id.salary_type_name,month:Q()(n[o].transactionDate).format("MMMM"),primarySalary:Math.round(a[o].salary_amount*te[a[o].duration][a[o].duration]/te[t][t]),spouseSalary:Math.round(a[o].spouse_salary*te[a[o].spouse_duration][a[o].spouse_duration]/te[t][t]),salary_benefit:Math.round(a[o].salary_amount*te[a[o].duration][a[o].duration]/te[t][t])+Math.round(a[o].spouse_salary*te[a[o].spouse_duration][a[o].spouse_duration]/te[t][t]),primaryBenefit:0,spouseBenefit:0}),s.push({key:a[o].id,topic:a[o].salary_category_id.salary_type_name,type:"Salary",salary_category_id:a[o].salary_category_id.id,user_id:a[o].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[a[o].duration],onChange:function(t){return e.handlePrimaryDurationChange(t,a[o],"Salary")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Pt,{key:e,value:e},e)}))),primaryamount:a[o].salary_amount,primaryDurationAmount:Math.round(a[o].salary_amount*te[a[o].duration][a[o].duration]/te[t][t]),spouseduration:r.a.createElement(K.a,{defaultValue:ee[a[o].spouse_duration],onChange:function(t){return e.handleSpouseDurationChange(t,a[o],"Salary")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Pt,{key:e,value:e},e)}))),spouseamount:a[o].spouse_salary,spouseDurationAmount:Math.round(a[o].spouse_salary*te[a[o].spouse_duration][a[o].spouse_duration]/te[t][t])}),i+=Math.round(a[o].salary_amount*te[a[o].duration][a[o].duration]/te[t][t]),l+=Math.round(a[o].spouse_salary*te[a[o].spouse_duration][a[o].spouse_duration]/te[t][t])};for(var c in a)d(c);var p=function(a){u.push({topic:n[a].benefit_type.benefit_type,month:Q()(n[a].transactionDate).format("MMMM"),primarySalary:0,spouseSalary:0,primaryBenefit:Math.round(n[a].salary_amount*te[n[a].duration][n[a].duration]/te[t][t]),spouseBenefit:Math.round(n[a].spouse_amount*te[n[a].spouse_duration][n[a].spouse_duration]/te[t][t]),salary_benefit:Math.round(n[a].salary_amount*te[n[a].duration][n[a].duration]/te[t][t])+Math.round(n[a].spouse_amount*te[n[a].spouse_duration][n[a].spouse_duration]/te[t][t])}),s.push({key:n[a].id,topic:n[a].benefit_type.benefit_type,benefit_type_id:n[a].benefit_type.id,user_id:n[a].user_id,type:"Benefit",primaryduration:r.a.createElement(K.a,{defaultValue:ee[n[a].duration],onChange:function(t){return e.handlePrimaryDurationChange(t,n[a],"Benefit")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Pt,{key:e,value:e},e)}))),primaryamount:n[a].salary_amount,primaryDurationAmount:Math.round(n[a].salary_amount*te[n[a].duration][n[a].duration]/te[t][t]),spouseduration:r.a.createElement(K.a,{defaultValue:ee[n[a].spouse_duration],onChange:function(t){return e.handleSpouseDurationChange(t,n[a],"Benefit")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Pt,{key:e,value:e},e)}))),spouseamount:n[a].spouse_amount,spouseDurationAmount:Math.round(n[a].spouse_amount*te[n[a].spouse_duration][n[a].spouse_duration]/te[t][t])}),i+=Math.round(n[a].salary_amount*te[n[a].duration][n[a].duration]/te[t][t]),l+=Math.round(n[a].spouse_amount*te[n[a].spouse_duration][n[a].spouse_duration]/te[t][t])};for(var m in n)p(m);var h=[],f=[],y=ne()(u).groupBy("month").map((function(e,t){return{month:t,name:ne.a.map(e,"topic"),data:ne.a.map(e,"salary_benefit")}})).value();for(var _ in y)for(var v in h.push(y[_].month),y[_].name){var b=Object(q.a)(Array(y.length)).map((function(e){return 0}));b.splice(_,1,y[_].data[v]),f.push({name:y[_].name[v],data:b})}var E=0,g=0,x=0,D=0;u.filter((function(e){E+=e.primarySalary,g+=e.spouseSalary,x+=e.primaryBenefit,D+=e.spouseBenefit}));var S=[E,g,x,D];return{v:r.a.createElement(Nt,{startDate:e.state.startDate,endDate:e.state.endDate,salaryData:s,primaryTotalSalary:i,spouseTotalSalary:l,onRef:function(t){return e.child=t},chartData:f,month:h,paiChartData:S,durationView:t,incomePaiChartLavels:["Primary Salary","Spouse Salary","Primary Benefits","Spouse Benefits"],user:e.props.user})}}();if("object"===typeof l)return l.v}})))}}]),t}(r.a.Component),Vt=Object(u.d)(Object(u.e)(de,{name:"createSavingsMutation"}))(Object(u.f)(Rt)),At=a(209),Bt=a(277),Lt=a(283),qt=r.a.createContext(void 0,void 0),Kt=Oe.a.create()((function(e){var t=e.form,a=(e.index,Object(Se.a)(e,["form","index"]));return r.a.createElement(qt.Provider,{value:t},r.a.createElement("tr",a))})),zt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={editing:!1},a.toggleEdit=function(){var e=!a.state.editing;a.setState({editing:e},(function(){e&&a.input.focus()}))},a.save=function(e){var t=a.props,n=t.record,r=t.handleSave;a.form.validateFields((function(t,i){t&&t[e.currentTarget.id]||(a.toggleEdit(),r(Object(ve.a)({},n,{},i)))}))},a.renderCell=function(e){a.form=e;var t=a.props,n=t.children,i=t.dataIndex,o=t.record,s=t.title;return a.state.editing?r.a.createElement(Oe.a.Item,{style:{margin:0}},e.getFieldDecorator(i,{rules:[{required:!0,message:"".concat(s," is required.")}],initialValue:o[i]})(r.a.createElement(we.a,{ref:function(e){return a.input=e},onPressEnter:a.save,onBlur:a.save}))):r.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:a.toggleEdit},n)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.editable,a=(e.dataIndex,e.title,e.record,e.index,e.handleSave,e.children),n=Object(Se.a)(e,["editable","dataIndex","title","record","index","handleSave","children"]);return r.a.createElement("td",n,t?r.a.createElement(qt.Consumer,null,this.renderCell):a)}}]),t}(r.a.Component),Yt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){console.log("Various parameters",e,t,n),a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){var t=Object(q.a)(a.state.dataSource);a.setState({dataSource:t.filter((function(t){return t.key!==e}))})},a.handleAdd=function(){var e=a.state,t=e.count,n=e.dataSource,r={key:t,name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park",tags:["cool","teacher"],description:"My name is Joe Black, I am 32 years old, living in Sidney No. 1 Lake Park."};a.setState({dataSource:[].concat(Object(q.a)(n),[r]),count:t+1})},a.handleSave=function(e){var t=Object(q.a)(a.state.dataSource),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e)),a.setState({dataSource:t})},a.state={filteredInfo:null,sortedInfo:null,dataSource:[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park",tags:["nice","developer"],description:"My name is John Brown, I am 32 years old, living in New York No. 1 Lake Park."},{key:"2",name:"Jim Green",age:42,address:"London No. 1 Lake Park",tags:["loser"],description:"My name is Jim Green, I am 42 years old, living in London No. 1 Lake Park."},{key:"3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park",tags:["cool","teacher"],description:"My name is Joe Black, I am 32 years old, living in Sidney No. 1 Lake Park."}],count:2},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo;a=a||{};var i=[{title:"Name",dataIndex:"name",key:"name",editable:!0,render:function(e){return r.a.createElement("a",null,e)},filters:[{text:"Joe",value:"Joe"},{text:"Jim",value:"Jim"}],filteredValue:(n=n||{}).name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order},{title:"Age",dataIndex:"age",key:"age",editable:!0,sorter:function(e,t){return e.age-t.age},sortOrder:"age"===a.columnKey&&a.order},{title:"Address",dataIndex:"address",key:"address",editable:!0,filters:[{text:"London",value:"London"},{text:"New York",value:"New York"}],filteredValue:n.address||null,onFilter:function(e,t){return t.address.includes(e)},sorter:function(e,t){return e.address.length-t.address.length},sortOrder:"address"===a.columnKey&&a.order},{title:"Tags",key:"tags",dataIndex:"tags",render:function(e){return r.a.createElement("span",null,e.map((function(e){var t=e.length>5?"geekblue":"green";return"loser"===e&&(t="volcano"),r.a.createElement(Lt.a,{color:t,key:e},e.toUpperCase())})))}},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.dataSource.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null}}],o=this.state.dataSource,s={body:{row:Kt,cell:zt},header:{}},u=i.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement(y.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16}},"Add a row"),r.a.createElement(Ee.a,{className:"table-layout",components:s,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:o,columns:u,expandedRowRender:function(e){return r.a.createElement("p",{style:{margin:0}},e.description)},onChange:this.handleChange}))}}]),t}(r.a.Component),Qt=At.a.TabPane,Wt={options:{},series:[44,55,41,17,15],labels:["A","B","C","D","E"]},Ht=function(e){return r.a.createElement("div",{className:"gutter-example"},r.a.createElement(ge.a,{gutter:16},r.a.createElement(xe.a,{className:"gutter-row",span:15},r.a.createElement("div",null,r.a.createElement(Yt,null))),r.a.createElement(xe.a,{span:6},r.a.createElement(At.a,{defaultActiveKey:"2",tabPosition:"bottom"},r.a.createElement(Qt,{tab:r.a.createElement("span",null,r.a.createElement(_.a,{type:"apple"}),"Month"),key:"1"},r.a.createElement(Ze.a,{options:Wt.options,series:Wt.series,type:"donut",width:"380",height:"300"})),r.a.createElement(Qt,{tab:r.a.createElement("span",null,r.a.createElement(_.a,{type:"android"}),"Year"),key:"2"},r.a.createElement(Ze.a,{options:Wt.options,series:Wt.series,type:"donut",width:"380",height:"300"})),r.a.createElement(Qt,{tab:r.a.createElement("span",null,r.a.createElement(_.a,{type:"android"}),"Quarter"),key:"3"},r.a.createElement(Ze.a,{options:Wt.options,series:Wt.series,type:"donut",width:"380",height:"300"}))))),r.a.createElement(ge.a,{type:"flex"},r.a.createElement(xe.a,{span:6,order:1}),r.a.createElement(xe.a,{span:6,order:2}),r.a.createElement(xe.a,{span:6,order:4},r.a.createElement(Bt.StickyContainer,null))))},Ut=a(51),Jt=f.a.Footer,Gt=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(Jt,{style:{textAlign:"center"}},"\xa9 2019 Created by",r.a.createElement("span",null,r.a.createElement(_.a,{type:"dollar"}),"   ","mart Money")))},Xt=a(164),Zt=a.n(Xt),ea=a(554);function ta(){var e=Object(re.a)(["\n    query getAllfixedExpenseses($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n        fixedExpenseses(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            fixed_expense_amount\n            fixed_expense_type {\n                id\n                fixed_expense_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return ta=function(){return e},e}function aa(){var e=Object(re.a)(["\n    query getAllfixedExpenseses {\n        fixedExpenseses {\n            id\n            user_id\n            duration\n            fixed_expense_amount\n            fixed_expense_type {\n                id\n                fixed_expense_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return aa=function(){return e},e}oe()(aa());var na=oe()(ta()),ra=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deleteFixedExpansesMutation({variables:{id:e},refetchQueries:[{query:na,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));a.props.updateFixedExpansesMutation({variables:{user_id:e.user_id,duration:i,fixed_expense_amount:parseFloat(e.primaryamount),fixed_expense_type:e.fixed_expense_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:na,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateFixedExpansesMutation({variables:{user_id:t.user_id,duration:n,fixed_expense_type:t.fixed_expense_type.id,id:t.id},refetchQueries:[{query:na,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSpouseDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateFixedExpansesMutation({variables:{user_id:t.user_id,spouse_duration:n,fixed_expense_type:t.fixed_expense_type.id,id:t.id},refetchQueries:[{query:na,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[],primaryTotalSalary:0,spouseTotalSalary:0,count:2},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData})}},{key:"componentWillReceiveProps",value:function(e){this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=this.state.salaryData;a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:400},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:250},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:250},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:!1,scroll:{y:500},size:"small",bordered:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:1}),r.a.createElement(xe.a,{span:10},r.a.createElement("div",{className:"ant-layout"},"Total")),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Primary Total Income",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:6}),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Spouse Total Income",value:this.props.spouseTotalSalary}))))}}]),t}(r.a.Component)),ia=Object(u.d)(Object(u.e)(Pe,{name:"updateFixedExpansesMutation"}),Object(u.e)(Re,{name:"deleteFixedExpansesMutation"}))(Object(u.f)(ra)),oa=a(558),sa=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handlePrimaryDurationChange=function(e){a.setState({primary:ee[e]})},a.handleSpouseDurationChange=function(e){a.setState({spouse:ee[e]})},a.state={title:"",primaryAmount:"",spouseAmount:"",primary:ee[0],spouse:ee[0]},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=(t.title,t.primaryAmount,t.spouseAmount,t.primary,t.spouse,this.props),n=a.visible,i=a.onCancel,o=a.onCreate,s=a.form.getFieldDecorator;return r.a.createElement(oa.a,{visible:n,title:"Create a new collection",okText:"Create",onCancel:i,onOk:o},r.a.createElement(Oe.a,{layout:"vertical"},r.a.createElement(Oe.a.Item,{label:"Title"},s("title",{rules:[{required:!0,message:"Please input the title of collection!"}]})(r.a.createElement(we.a,{value:this.state.type,onChange:function(t){return e.setState({title:t.target.value})}})))))}}]),t}(r.a.Component)),ua=Oe.a.create()(sa),la=K.a.Option,da=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t){a.child.handlePrimaryDurationChange(e,t)},a.handleSpouseDurationChange=function(e,t){a.child.handleSpouseDurationChange(e,t)},a.state={intialData:[],salary_type:""},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",null,r.a.createElement(y.a,{type:"primary",onClick:this.showModal},"Add New Fixed Expenses Type"),r.a.createElement("div",null,r.a.createElement(ua,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:function(t){t.preventDefault();var a=e.formRef.props.form;a.validateFields((function(t,n){e.props.createFixedExpenseMutation({variables:{fixed_expense_type:n.title,transactionDate:e.props.currentDate,user_id:e.props.user.email},refetchQueries:[{query:na,variables:{user_id:e.props.user.email,tranaction_start_date:e.props.startDate,transaction_end_date:e.props.endDate}}]}),a.resetFields(),e.setState({visible:!1})}))}}))))),console.log(this.props),r.a.createElement(u.c,{query:na,variables:{user_id:this.props.user.email,tranaction_start_date:this.props.startDate,transaction_end_date:this.props.endDate},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-and-network"},(function(t){var a=t.loading,n=t.error,i=t.data;if(a)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(n)return r.a.createElement("div",null,"Error");var o=[];if(null!=i){var s=function(){var t=i.fixedExpenseses,a=0,n=0,s=function(i){o.push({key:t[i].id,topic:t[i].fixed_expense_type.fixed_expense_type,fixed_expense_type_id:t[i].fixed_expense_type.id,user_id:t[i].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[t[i].duration],onChange:function(a){return e.handlePrimaryDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(la,{key:e,value:e},e)}))),primaryamount:t[i].fixed_expense_amount,spouseduration:r.a.createElement(K.a,{defaultValue:ee[t[i].spouse_duration],onChange:function(a){return e.handleSpouseDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(la,{key:e,value:e},e)}))),spouseamount:t[i].spouse_amount}),a+=t[i].fixed_expense_amount,n+=t[i].spouse_amount};for(var u in t)s(u);return{v:r.a.createElement(ia,{startDate:e.props.startDate,endDate:e.props.endDate,salaryData:o,primaryTotalSalary:a,spouseTotalSalary:n,onRef:function(t){return e.child=t},user:e.props.user})}}();if("object"===typeof s)return s.v}})))}}]),t}(r.a.Component),ca=Object(u.d)(Object(u.e)(Ne,{name:"createFixedExpenseMutation"}))(Object(u.f)(da));function pa(){var e=Object(re.a)(["\n    query getAllBills($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n        billsAmounts(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            bill_amount\n            bill_type {\n                id\n                bills_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return pa=function(){return e},e}function ma(){var e=Object(re.a)(["\n    query getAllBills {\n        billsAmounts {\n            id\n            user_id\n            duration\n            bill_amount\n            bill_type {\n                id\n                bills_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return ma=function(){return e},e}oe()(ma());var ha=oe()(pa()),fa=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deleteBillMutation({variables:{id:e},refetchQueries:[{query:ha,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));a.props.updateBillMutation({variables:{user_id:e.user_id,duration:i,bill_amount:parseFloat(e.primaryamount),bill_type:e.bill_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:ha,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateBillMutation({variables:{user_id:t.user_id,duration:n,bill_type:t.bill_type.id,id:t.id},refetchQueries:[{query:ha,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSpouseDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateBillMutation({variables:{user_id:t.user_id,spouse_duration:n,bill_type:t.bill_type.id,id:t.id},refetchQueries:[{query:ha,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[],primaryTotalSalary:0,spouseTotalSalary:0,count:2},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData})}},{key:"componentWillReceiveProps",value:function(e){this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=this.state.salaryData;a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:400},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:250},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:250},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:!1,scroll:{y:500},size:"small",bordered:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:1}),r.a.createElement(xe.a,{span:10},r.a.createElement("div",{className:"ant-layout"},"Total")),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Primary Total Income",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:6}),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Spouse Total Income",value:this.props.spouseTotalSalary}))))}}]),t}(r.a.Component)),ya=Object(u.d)(Object(u.e)(He,{name:"updateBillMutation"}),Object(u.e)(Ue,{name:"deleteBillMutation"}))(Object(u.f)(fa)),_a=K.a.Option,va=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t){a.child.handlePrimaryDurationChange(e,t)},a.handleSpouseDurationChange=function(e,t){a.child.handleSpouseDurationChange(e,t)},a.state={intialData:[],salary_type:""},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;this.state.intialData;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",null,r.a.createElement(y.a,{type:"primary",onClick:this.showModal},"Add New Fixed Expenses Type"),r.a.createElement("div",null,r.a.createElement(ua,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:function(t){t.preventDefault();var a=e.formRef.props.form;a.validateFields((function(t,n){e.props.createBillsMutation({variables:{bills_type:n.title,transactionDate:e.props.currentDate,user_id:e.props.user.email},refetchQueries:[{query:ha,variables:{user_id:e.props.user.email,tranaction_start_date:e.props.startDate,transaction_end_date:e.props.endDate}}]}),a.resetFields(),e.setState({visible:!1})}))}}))))),r.a.createElement(u.c,{query:ha,variables:{user_id:this.props.user.email,tranaction_start_date:this.props.startDate,transaction_end_date:this.props.endDate},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-and-network"},(function(t){var a=t.loading,n=t.error,i=t.data;if(a)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(n)return r.a.createElement("div",null,"Error");var o=[];if(null!=i){var s=function(){var t=i.billsAmounts,a=0,n=0,s=function(i){o.push({key:t[i].id,topic:t[i].bill_type.bills_type,bill_type_id:t[i].bill_type.id,user_id:t[i].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[t[i].duration],onChange:function(a){return e.handlePrimaryDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(_a,{key:e,value:e},e)}))),primaryamount:t[i].bill_amount,spouseduration:r.a.createElement(K.a,{defaultValue:ee[t[i].spouse_duration],onChange:function(a){return e.handleSpouseDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(_a,{key:e,value:e},e)}))),spouseamount:t[i].spouse_amount}),a+=t[i].bill_amount,n+=t[i].spouse_amount};for(var u in t)s(u);return{v:r.a.createElement(ya,{startDate:e.props.startDate,endDate:e.props.endDate,salaryData:o,primaryTotalSalary:a,spouseTotalSalary:n,onRef:function(t){return e.child=t},user:e.props.user})}}();if("object"===typeof s)return s.v}})))}}]),t}(r.a.Component),ba=Object(u.d)(Object(u.e)(We,{name:"createBillsMutation"}))(Object(u.f)(va));function Ea(){var e=Object(re.a)(["\n    query getAllVariableExpenses($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n        variableExpenseses(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            variable_expense_amount\n            variable_expense_type {\n                id\n                variable_expense_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return Ea=function(){return e},e}function ga(){var e=Object(re.a)(["\n    query getAllVariableExpenses {\n        variableExpenseses {\n            id\n            user_id\n            duration\n            variable_expense_amount\n            variable_expense_type {\n                id\n                variable_expense_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return ga=function(){return e},e}oe()(ga());var xa=oe()(Ea()),Da=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deleteVariableExpansesMutation({variables:{id:e},refetchQueries:[{query:xa,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));a.props.updateVariableExpansesMutation({variables:{user_id:e.user_id,duration:i,variable_expense_amount:parseFloat(e.primaryamount),variable_expense_type:e.variable_expense_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:xa,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateVariableExpansesMutation({variables:{user_id:t.user_id,duration:n,variable_expense_type:t.variable_expense_type.id,id:t.id},refetchQueries:[{query:xa,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSpouseDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateFixedExpansesMutation({variables:{user_id:t.user_id,spouse_duration:n,variable_expense_type:t.variable_expense_type.id,id:t.id},refetchQueries:[{query:xa,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[],primaryTotalSalary:0,spouseTotalSalary:0,count:2},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData})}},{key:"componentWillReceiveProps",value:function(e){this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=this.state.salaryData;a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:400},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:250},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:250},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:!1,scroll:{y:500},size:"small",bordered:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:1}),r.a.createElement(xe.a,{span:10},r.a.createElement("div",{className:"ant-layout"},"Total")),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Primary Total Income",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:6}),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Spouse Total Income",value:this.props.spouseTotalSalary}))))}}]),t}(r.a.Component)),Sa=Object(u.d)(Object(u.e)(qe,{name:"updateVariableExpansesMutation"}),Object(u.e)(Ke,{name:"deleteVariableExpansesMutation"}))(Object(u.f)(Da)),Oa=K.a.Option,Ca=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t){a.child.handlePrimaryDurationChange(e,t)},a.handleSpouseDurationChange=function(e,t){a.child.handleSpouseDurationChange(e,t)},a.state={intialData:[],salary_type:""},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;this.state.intialData;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",null,r.a.createElement(y.a,{type:"primary",onClick:this.showModal},"Add New Variable Expenses Type"),r.a.createElement("div",null,r.a.createElement(ua,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:function(t){t.preventDefault();var a=e.formRef.props.form;a.validateFields((function(t,n){e.props.createVariableExpenseMutation({variables:{variable_expense_type:n.title,user_id:e.props.user.email},refetchQueries:[{query:xa,variables:{user_id:e.props.user.email,tranaction_start_date:e.props.startDate,transaction_end_date:e.props.endDate}}]}),a.resetFields(),e.setState({visible:!1})}))}}))))),r.a.createElement(u.c,{query:xa,variables:{user_id:this.props.user.email,tranaction_start_date:this.props.startDate,transaction_end_date:this.props.endDate},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-and-network"},(function(t){var a=t.loading,n=t.error,i=t.data;if(a)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(n)return r.a.createElement("div",null,"Error");var o=[];if(null!=i){var s=function(){var t=i.variableExpenseses,a=0,n=0,s=function(i){o.push({key:t[i].id,topic:t[i].variable_expense_type.variable_expense_type,variable_expense_type_id:t[i].variable_expense_type.id,user_id:t[i].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[t[i].duration],onChange:function(a){return e.handlePrimaryDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Oa,{key:e,value:e},e)}))),primaryamount:t[i].variable_expense_amount,spouseduration:r.a.createElement(K.a,{defaultValue:ee[t[i].spouse_duration],onChange:function(a){return e.handleSpouseDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Oa,{key:e,value:e},e)}))),spouseamount:t[i].spouse_amount}),a+=t[i].variable_expense_amount,n+=t[i].spouse_amount};for(var u in t)s(u);return{v:r.a.createElement(Sa,{startDate:e.props.startDate,endDate:e.props.endDate,salaryData:o,primaryTotalSalary:a,spouseTotalSalary:n,onRef:function(t){return e.child=t},user:e.props.user})}}();if("object"===typeof s)return s.v}})))}}]),t}(r.a.Component),ja=Object(u.d)(Object(u.e)(Le,{name:"createVariableExpenseMutation"}))(Object(u.f)(Ca)),wa=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deleteSavingMutation({variables:{id:e},refetchQueries:[{query:ye,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));a.props.updateSavingMutation({variables:{user_id:e.user_id,duration:i,saving_amount:parseFloat(e.primaryamount),saving_type:e.saving_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:ye,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate},fetchPolicy:"network-only"}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateSavingMutation({variables:{user_id:t.user_id,duration:n,saving_type:t.saving_type.id,id:t.id},refetchQueries:[{query:ye,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSpouseDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateSavingMutation({variables:{user_id:t.user_id,spouse_duration:n,saving_type:t.saving_type.id,id:t.id},refetchQueries:[{query:ye,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[]},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData})}},{key:"componentWillReceiveProps",value:function(e){this.state.salaryData.length!==e.salaryData.length&&this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=this.state.salaryData;a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:400},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:250},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:250},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:!1,scroll:{y:500},size:"small",bordered:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:1}),r.a.createElement(xe.a,{span:10},r.a.createElement("div",{className:"ant-layout"},"Total")),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Primary Total Income",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:6}),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Spouse Total Income",value:this.props.spouseTotalSalary}))))}}]),t}(r.a.Component)),ka=Object(u.d)(Object(u.e)(ce,{name:"updateSavingMutation"}),Object(u.e)(pe,{name:"deleteSavingMutation"}))(Object(u.f)(wa)),Ia=K.a.Option,Ma=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t){a.child.handlePrimaryDurationChange(e,t)},a.handleSpouseDurationChange=function(e,t){a.child.handleSpouseDurationChange(e,t)},a.state={intialData:[]},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;this.state.intialData;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",null,r.a.createElement(y.a,{type:"primary",onClick:this.showModal},"Add New Saving Type"),r.a.createElement("div",null,r.a.createElement(ua,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:function(t){t.preventDefault();var a=e.formRef.props.form;a.validateFields((function(t,n){e.props.createSavingsMutation({variables:{saving_type:n.title,transactionDate:e.props.currentDate,user_id:e.props.user.email},refetchQueries:[{query:ye,variables:{user_id:e.props.user.email,tranaction_start_date:e.props.startDate,transaction_end_date:e.props.endDate}}]}),a.resetFields(),e.setState({visible:!1})}))}}))))),r.a.createElement(u.c,{query:ye,variables:{user_id:this.props.user.email,tranaction_start_date:this.props.startDate,transaction_end_date:this.props.endDate},fetchPolicy:"network-only"},(function(t){var a=t.loading,n=t.error,i=t.data;if(a)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(n)return r.a.createElement("div",null,"Error");var o=[];if(null!=i){var s=function(){var t=i.savings,a=0,n=0,s=function(i){o.push({key:t[i].id,topic:t[i].saving_type.saving_type,saving_type_id:t[i].saving_type.id,user_id:t[i].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[t[i].duration],onChange:function(a){return e.handlePrimaryDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Ia,{key:e,value:e},e)}))),primaryamount:t[i].saving_amount,spouseduration:r.a.createElement(K.a,{defaultValue:ee[t[i].spouse_duration],onChange:function(a){return e.handleSpouseDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Ia,{key:e,value:e},e)}))),spouseamount:t[i].spouse_amount}),a+=t[i].saving_amount,n+=t[i].spouse_amount};for(var u in t)s(u);return{v:r.a.createElement(ka,{startDate:e.props.startDate,endDate:e.props.endDate,salaryData:o,primaryTotalSalary:a,spouseTotalSalary:n,onRef:function(t){return e.child=t},user:e.props.user})}}();if("object"===typeof s)return s.v}})))}}]),t}(r.a.Component),$a=Object(u.d)(Object(u.e)(de,{name:"createSavingsMutation"}))(Object(u.f)(Ma)),Ta=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deleteExtraSavingMutation({variables:{id:e},refetchQueries:[{query:ct,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));a.props.updateExtraSavingMutation({variables:{user_id:e.user_id,duration:i,extra_retirement_saving_amount:parseFloat(e.primaryamount),extra_retirement_saving_type:e.extra_retirement_saving_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:ct,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateExtraSavingMutation({variables:{user_id:t.user_id,duration:n,extra_retirement_saving_type:t.extra_retirement_saving_type.id,id:t.id},refetchQueries:[{query:ct,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSpouseDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateExtraSavingMutation({variables:{user_id:t.user_id,spouse_duration:n,extra_retirement_saving_type:t.extra_retirement_saving_type.id,id:t.id},refetchQueries:[{query:ct,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[],primaryTotalSalary:0,spouseTotalSalary:0,count:2},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData})}},{key:"componentWillReceiveProps",value:function(e){this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=this.state.salaryData;a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:400},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:250},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:250},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:!1,scroll:{y:500},size:"small",bordered:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:1}),r.a.createElement(xe.a,{span:10},r.a.createElement("div",{className:"ant-layout"},"Total")),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Primary Total Income",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:6}),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Spouse Total Income",value:this.props.spouseTotalSalary}))))}}]),t}(r.a.Component)),Fa=Object(u.d)(Object(u.e)(st,{name:"updateExtraSavingMutation"}),Object(u.e)(ut,{name:"deleteExtraSavingMutation"}))(Object(u.f)(Ta)),Na=K.a.Option,Pa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t){a.child.handlePrimaryDurationChange(e,t)},a.handleSpouseDurationChange=function(e,t){a.child.handleSpouseDurationChange(e,t)},a.state={intialData:[],salary_type:""},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;this.state.intialData;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",null,r.a.createElement(y.a,{type:"primary",onClick:this.showModal},"Add Extra Ret Saving Type"),r.a.createElement("div",null,r.a.createElement(ua,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:function(t){t.preventDefault();var a=e.formRef.props.form;a.validateFields((function(t,n){e.props.createExtraRetSavingsMutation({variables:{extra_retirement_saving_type:n.title,transactionDate:e.props.currentDate,user_id:e.props.user.email},refetchQueries:[{query:ct,variables:{user_id:e.props.user.email,tranaction_start_date:e.props.startDate,transaction_end_date:e.props.endDate}}]}),a.resetFields(),e.setState({visible:!1})}))}}))))),r.a.createElement(u.c,{query:ct,variables:{user_id:this.props.user.email,tranaction_start_date:this.props.startDate,transaction_end_date:this.props.endDate},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-and-network"},(function(t){var a=t.loading,n=t.error,i=t.data;if(a)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(n)return r.a.createElement("div",null,"Error");var o=[];if(null!=i){var s=function(){var t=i.extraRetirementSavingses,a=0,n=0,s=function(i){o.push({key:t[i].id,topic:t[i].extra_retirement_saving_type.extra_retirement_saving_type,extra_retirement_saving_type_id:t[i].extra_retirement_saving_type.id,user_id:t[i].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[t[i].duration],onChange:function(a){return e.handlePrimaryDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Na,{key:e,value:e},e)}))),primaryamount:t[i].extra_retirement_saving_amount,spouseduration:r.a.createElement(K.a,{defaultValue:ee[t[i].spouse_duration],onChange:function(a){return e.handleSpouseDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Na,{key:e,value:e},e)}))),spouseamount:t[i].spouse_amount}),a+=t[i].extra_retirement_saving_amount,n+=t[i].spouse_amount};for(var u in t)s(u);return{v:r.a.createElement(Fa,{startDate:e.props.startDate,endDate:e.props.endDate,salaryData:o,primaryTotalSalary:a,spouseTotalSalary:n,onRef:function(t){return e.child=t},user:e.props.user})}}();if("object"===typeof s)return s.v}})))}}]),t}(r.a.Component),Ra=Object(u.d)(Object(u.e)(ot,{name:"createExtraRetSavingsMutation"}))(Object(u.f)(Pa)),Va=ea.a.MonthPicker,Aa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).onChange=function(e){var t=Q()([e._d.getFullYear(),e._d.getMonth(),1]).format("YYYY-MM-DD"),n=Q()(t).daysInMonth(),r=Q()(t).add(n-1,"days").format("YYYY-MM-DD"),i=Q()(r).subtract(1,"day").format("YYYY-MM-DD");a.setState({startDate:t}),a.setState({endDate:r}),a.setState({currentDate:i})},a.state={current:0,startDate:H,endDate:X,currentDate:W},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"step-progress"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",{className:"App"},r.a.createElement(Va,{defaultValue:Q()(W,"YYYY/MMMM"),format:"YYYY/MMMM",placeholder:"Select Month",onChange:function(t,a){return e.onChange(t)}})))),r.a.createElement(Zt.a,{steps:[{name:"Fixed Expenses",component:r.a.createElement(ca,{currentDate:this.state.currentDate,startDate:this.state.startDate,endDate:this.state.endDate,user:this.props.user})},{name:"Bills",component:r.a.createElement(ba,{currentDate:this.state.currentDate,startDate:this.state.startDate,endDate:this.state.endDate,user:this.props.user})},{name:"Variable Expenses",component:r.a.createElement(ja,{currentDate:this.state.currentDate,startDate:this.state.startDate,endDate:this.state.endDate,user:this.props.user})},{name:"Savings",component:r.a.createElement($a,{currentDate:this.state.currentDate,startDate:this.state.startDate,endDate:this.state.endDate,user:this.props.user})},{name:"Extra Retirement Savings",component:r.a.createElement(Ra,{currentDate:this.state.currentDate,startDate:this.state.startDate,endDate:this.state.endDate,user:this.props.user})}],nextButtonCls:"multiStepButton",backButtonCls:"multiStepButton"}))}}]),t}(r.a.Component),Ba=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={chartData:[],options:{chart:{stacked:!0,stackType:"100%"},responsive:[{breakpoint:580,options:{chart:{width:300},legend:{position:"bottom",offsetX:-10,offsetY:0}}}],xaxis:{categories:a.props.month},fill:{opacity:1},legend:{position:"left",offsetX:0,offsetY:50},tooltip:{style:{fontSize:"12px",background:"#00a0e9"}}}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({chartData:this.props.chartData})}},{key:"render",value:function(){return r.a.createElement(Ze.a,{options:this.state.options,series:this.props.chartData,type:"bar",height:"270",width:"450"})}}]),t}(r.a.Component),La=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={paiChartData:[],options:{labels:a.props.paiChartLabels,legend:{position:"left"},responsive:[{breakpoint:580,options:{chart:{width:300},legend:{position:"top"}}}]}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({chartData:this.props.chartData})}},{key:"render",value:function(){return r.a.createElement(Ze.a,{options:this.state.options,series:this.props.paiChartData,type:"pie",height:"270",width:"450"})}}]),t}(r.a.Component),qa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={options:{legend:{position:"left"},labels:a.props.spendingTypeChartLavel,responsive:[{breakpoint:580,options:{chart:{width:300},legend:{position:"top"}}}]}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({chartData:this.props.spendingTypeChartSeries})}},{key:"render",value:function(){return r.a.createElement(Ze.a,{options:this.state.options,series:this.props.spendingTypeChartSeries,type:"pie",height:"270",width:"450"})}}]),t}(r.a.Component),Ka=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deleteSavingMutation({variables:{id:e},refetchQueries:[{query:ye,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));"bills"===e.type?a.props.updateBillMutation({variables:{user_id:e.user_id,duration:i,bill_amount:parseFloat(e.primaryamount),bill_type:e.bill_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:Ge,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}):"variableExpenseses"===e.type?a.props.updateVariableExpansesMutation({variables:{user_id:e.user_id,duration:i,variable_expense_amount:parseFloat(e.primaryamount),variable_expense_type:e.variable_expense_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:Ge,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}):a.props.updateFixedExpansesMutation({variables:{user_id:e.user_id,duration:i,fixed_expense_amount:parseFloat(e.primaryamount),fixed_expense_type:e.fixed_expense_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:Ge,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t,n){var r=ee.findIndex((function(t){return e===t}));"bills"===n?a.props.updateBillMutation({variables:{user_id:t.user_id,duration:r,bill_type:t.bill_type.id,id:t.id},refetchQueries:[{query:Ge,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}):"variableExpenseses"===n?a.props.updateVariableExpansesMutation({variables:{user_id:t.user_id,duration:r,variable_expense_type:t.variable_expense_type.id,id:t.id},refetchQueries:[{query:Ge,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}):a.props.updateFixedExpansesMutation({variables:{user_id:t.user_id,duration:r,fixed_expense_type:t.fixed_expense_type.id,id:t.id},refetchQueries:[{query:Ge,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]})},a.handleSpouseDurationChange=function(e,t,n){var r=ee.findIndex((function(t){return e===t}));"bills"===n?a.props.updateBillMutation({variables:{user_id:t.user_id,spouse_duration:r,bill_type:t.bill_type.id,id:t.id},refetchQueries:[{query:Ge,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}):"variableExpenseses"===n?a.props.updateVariableExpansesMutation({variables:{user_id:t.user_id,spouse_duration:r,variable_expense_type:t.variable_expense_type.id,id:t.id},refetchQueries:[{query:Ge,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]}):a.props.updateFixedExpansesMutation({variables:{user_id:t.user_id,spouse_duration:r,fixed_expense_type:t.fixed_expense_type.id,id:t.id},refetchQueries:[{query:Ge,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.endDate,transaction_end_date:a.props.startDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[],durationView:0},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData}),this.setState({durationView:this.props.durationView})}},{key:"componentWillReceiveProps",value:function(e){this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=(t.durationView,this.state.salaryData);a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:300},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:200},{title:ee[this.props.durationView],dataIndex:"primaryDurationAmount",key:"primaryDurationAmount",editable:!1,width:200},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:200},{title:ee[this.props.durationView],dataIndex:"spouseDurationAmount",key:"spouseDurationAmount",editable:!1,width:200},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-income-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:{pageSize:5},scroll:{y:230},size:"small",bordered:!0,useFixedHeader:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:3}),r.a.createElement(xe.a,{span:4},r.a.createElement("div",{className:"incomeFont"},"Total  ",ee[this.props.durationView])),r.a.createElement(xe.a,{span:4}),r.a.createElement(xe.a,{span:6},r.a.createElement(De.a,{className:"incomeFont",title:"Primary Spending",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:2}),r.a.createElement(xe.a,{span:3},r.a.createElement(De.a,{className:"incomeFont",title:"Spouse  Spending",value:this.props.spouseTotalSalary}))),r.a.createElement(b.a,{style:{height:1}}),r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"flex-col"},r.a.createElement(Ba,{onRef:function(t){return e.child=t},chartData:this.props.chartData,month:this.props.month})),r.a.createElement("div",{className:"flex-col"}," ",r.a.createElement(qa,{onRef:function(t){return e.child=t},spendingTypeChartLavel:this.props.spendingTypeChartLavel,spendingTypeChartSeries:this.props.spendingTypeChartSeries})),r.a.createElement("div",{className:"flex-col"}," ",r.a.createElement(La,{onRef:function(t){return e.child=t},paiChartData:this.props.paiChartData,paiChartLabels:this.props.paiChartLabels}))))}}]),t}(r.a.Component)),za=Object(u.d)(Object(u.e)(Pe,{name:"updateFixedExpansesMutation"}),Object(u.e)(qe,{name:"updateVariableExpansesMutation"}),Object(u.e)(He,{name:"updateBillMutation"}),Object(u.e)(Re,{name:"deleteFixedExpansesMutation"}),Object(u.e)(Ke,{name:"deleteVariableExpansesMutation"}),Object(u.e)(Ue,{name:"deleteBillMutation"}))(Object(u.f)(Ka)),Ya=K.a.Option,Qa=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t,n){a.child.handlePrimaryDurationChange(e,t,n)},a.handleSpouseDurationChange=function(e,t,n){a.child.handleSpouseDurationChange(e,t,n)},a.state={durationView:0,startDate:G,endDate:Z,disabled:[],chartColors:{primaryBenefit:"#e96d8d",spouseBenefit:"#40ee86",primarySalary:"#67d6c0",spouseSalary:"#127197"}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.durationView;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(z.a.Group,{defaultValue:"0",buttonStyle:"solid",onChange:function(t){e.setState({durationView:t.target.value})}},r.a.createElement(z.a.Button,{value:"0"},"Annually"),r.a.createElement(z.a.Button,{value:"1"},"Quarterly"),r.a.createElement(z.a.Button,{value:"2"},"Monthly"),r.a.createElement(z.a.Button,{value:"3"},"Weekly"),r.a.createElement(z.a.Button,{value:"4"},"Fortnightly")),r.a.createElement(u.c,{query:Ge,variables:{user_id:this.props.user.email,tranaction_start_date:this.state.endDate,transaction_end_date:this.state.startDate},fetchPolicy:"network-only"},(function(a){var n=a.loading,i=a.error,o=a.data;if(n)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(i)return r.a.createElement("div",null,"Error");var s=[],u=[];if(null!=o){var l=function(){var a=o.billsAmounts,n=o.variableExpenseses,i=o.fixedExpenseses,l=0,d=0,c=function(a){u.push({topic:i[a].fixed_expense_type.fixed_expense_type,month:Q()(i[a].transactionDate).format("MMMM"),primaryFixedExpenseses:Math.round(i[a].fixed_expense_amount*te[i[a].duration][i[a].duration]/te[t][t]),spouseFixedExpenseses:Math.round(i[a].spouse_amount*te[i[a].spouse_duration][i[a].spouse_duration]/te[t][t]),primaryBills:0,spouseBills:0,primaryVariableExpenseses:0,spouseVriableExpenseses:0,salary_benefit:Math.round(i[a].fixed_expense_amount*te[i[a].duration][i[a].duration]/te[t][t])+Math.round(i[a].spouse_amount*te[i[a].spouse_duration][i[a].spouse_duration]/te[t][t])}),s.push({key:i[a].id,topic:i[a].fixed_expense_type.fixed_expense_type,type:"fixedExpenseses",fixed_expense_type_id:i[a].fixed_expense_type.id,user_id:i[a].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[i[a].duration],onChange:function(t){return e.handlePrimaryDurationChange(t,i[a],"fixedExpenseses")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Ya,{key:e,value:e},e)}))),primaryamount:i[a].fixed_expense_amount,primaryDurationAmount:Math.round(i[a].fixed_expense_amount*te[i[a].duration][i[a].duration]/te[t][t]),spouseduration:r.a.createElement(K.a,{defaultValue:ee[i[a].spouse_duration],onChange:function(t){return e.handleSpouseDurationChange(t,i[a],"fixedExpenseses")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Ya,{key:e,value:e},e)}))),spouseamount:i[a].spouse_amount,spouseDurationAmount:Math.round(i[a].spouse_amount*te[i[a].spouse_duration][i[a].spouse_duration]/te[t][t])}),l+=Math.round(i[a].fixed_expense_amount*te[i[a].duration][i[a].duration]/te[t][t]),d+=Math.round(i[a].spouse_amount*te[i[a].spouse_duration][i[a].spouse_duration]/te[t][t])};for(var p in i)c(p);var m=function(n){u.push({topic:a[n].bill_type.bills_type,month:Q()(a[n].transactionDate).format("MMMM"),primaryBills:Math.round(a[n].bill_amount*te[a[n].duration][a[n].duration]/te[t][t]),spouseBills:Math.round(a[n].spouse_amount*te[a[n].spouse_duration][a[n].spouse_duration]/te[t][t]),primaryFixedExpenseses:0,spouseFixedExpenseses:0,primaryVariableExpenseses:0,spouseVriableExpenseses:0,salary_benefit:Math.round(a[n].bill_amount*te[a[n].duration][a[n].duration]/te[t][t])+Math.round(a[n].spouse_amount*te[a[n].spouse_duration][a[n].spouse_duration]/te[t][t])}),s.push({key:a[n].id,topic:a[n].bill_type.bills_type,type:"bills",bill_type_id:a[n].bill_type.id,user_id:a[n].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[a[n].duration],onChange:function(t){return e.handlePrimaryDurationChange(t,a[n],"bills")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Ya,{key:e,value:e},e)}))),primaryamount:a[n].bill_amount,primaryDurationAmount:Math.round(a[n].bill_amount*te[a[n].duration][a[n].duration]/te[t][t]),spouseduration:r.a.createElement(K.a,{defaultValue:ee[a[n].spouse_duration],onChange:function(t){return e.handleSpouseDurationChange(t,a[n],"bills")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Ya,{key:e,value:e},e)}))),spouseamount:a[n].spouse_amount,spouseDurationAmount:Math.round(a[n].spouse_amount*te[a[n].spouse_duration][a[n].spouse_duration]/te[t][t])}),l+=Math.round(a[n].bill_amount*te[a[n].duration][a[n].duration]/te[t][t]),d+=Math.round(a[n].spouse_amount*te[a[n].spouse_duration][a[n].spouse_duration]/te[t][t])};for(var h in a)m(h);var f=function(a){u.push({topic:n[a].variable_expense_type.variable_expense_type,month:Q()(n[a].transactionDate).format("MMMM"),primaryVariableExpenseses:Math.round(n[a].variable_expense_amount*te[n[a].duration][n[a].duration]/te[t][t]),spouseVriableExpenseses:Math.round(n[a].spouse_amount*te[n[a].spouse_duration][n[a].spouse_duration]/te[t][t]),primaryFixedExpenseses:0,spouseFixedExpenseses:0,primaryBills:0,spouseBills:0,salary_benefit:Math.round(n[a].variable_expense_amount*te[n[a].duration][n[a].duration]/te[t][t])+Math.round(n[a].spouse_amount*te[n[a].spouse_duration][n[a].spouse_duration]/te[t][t])}),s.push({key:n[a].id,topic:n[a].variable_expense_type.variable_expense_type,variable_expense_type_id:n[a].variable_expense_type.id,user_id:n[a].user_id,type:"variableExpenseses",primaryduration:r.a.createElement(K.a,{defaultValue:ee[n[a].duration],onChange:function(t){return e.handlePrimaryDurationChange(t,n[a],"variableExpenseses")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Ya,{key:e,value:e},e)}))),primaryamount:n[a].variable_expense_amount,primaryDurationAmount:Math.round(n[a].variable_expense_amount*te[n[a].duration][n[a].duration]/te[t][t]),spouseduration:r.a.createElement(K.a,{defaultValue:ee[n[a].spouse_duration],onChange:function(t){return e.handleSpouseDurationChange(t,n[a],"variableExpenseses")},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Ya,{key:e,value:e},e)}))),spouseamount:n[a].spouse_amount,spouseDurationAmount:Math.round(n[a].spouse_amount*te[n[a].spouse_duration][n[a].spouse_duration]/te[t][t])}),l+=Math.round(n[a].variable_expense_amount*te[n[a].duration][n[a].duration]/te[t][t]),d+=Math.round(n[a].spouse_amount*te[n[a].spouse_duration][n[a].spouse_duration]/te[t][t])};for(var y in n)f(y);var _=[],v=[],b=ne()(u).groupBy("month").map((function(e,t){return{month:t,name:ne.a.map(e,"topic"),data:ne.a.map(e,"salary_benefit")}})).value();for(var E in b)for(var g in _.push(b[E].month),b[E].name){var x=Object(q.a)(Array(b.length)).map((function(e){return 0}));x.splice(E,1,b[E].data[g]),v.push({name:b[E].name[g],data:x})}var D=[],S=[];ne()(v).groupBy("name").map((function(e,t){D.push(t),S.push(e[0].data.reduce((function(e,t){return e+t}),0))})).value();var O=0,C=0,j=0,w=0,k=0,I=0;u.filter((function(e){console.log(e.primaryFixedExpenseses),O+=e.primaryFixedExpenseses,C+=e.spouseFixedExpenseses,j+=e.primaryBills,w+=e.spouseBills,k+=e.primaryVariableExpenseses,I+=e.spouseVriableExpenseses}));var M=[O,C,j,w,k,I];return{v:r.a.createElement(za,{startDate:e.state.startDate,endDate:e.state.endDate,salaryData:s,primaryTotalSalary:l,spouseTotalSalary:d,onRef:function(t){return e.child=t},chartData:v,month:_,paiChartData:M,durationView:t,spendingTypeChartLavel:D,spendingTypeChartSeries:S,paiChartLabels:["Primary Fixed Expenses","Spouse Fixed Expenses","Primary Bills","Spouse Bills","Primary Variable Expenses","Spouse Variable Expenses"],user:e.props.user})}}();if("object"===typeof l)return l.v}})))}}]),t}(r.a.Component),Wa=Object(u.d)(Object(u.e)(de,{name:"createSavingsMutation"}))(Object(u.f)(Qa)),Ha=f.a.Content,Ua=f.a.Sider,Ja=(f.a.Footer,function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),i=a[0],o=a[1],s=Object(C.b)();return Object(n.useEffect)((function(){s({type:T,payload:{component:"budget",sideBarMenuKey:"budget"}})}),[s]),r.a.createElement(f.a,{className:"app"},r.a.createElement($,{user:e.user}),r.a.createElement(Ha,{className:"content"},r.a.createElement(j.a,null,r.a.createElement(f.a,{style:{padding:"0px 0px"}},r.a.createElement(Ua,{style:{padding:"0px 0px"},id:"sider-menu",trigger:null,collapsible:!0,collapsed:i,breakpoint:"lg",onBreakpoint:function(e){},onCollapse:o,width:"270"},r.a.createElement("div",{style:{padding:"0px 0px"}},r.a.createElement(y.a,{type:"primary",onClick:function(){return o(!i)},style:{marginBottom:16}},r.a.createElement(_.a,{type:i?"menu-unfold":"menu-fold"})),r.a.createElement(v.a,{defaultSelectedKeys:["budgetEntry"],mode:"inline",theme:"dark",inlineCollapsed:i,style:{padding:"0px 0px"}},r.a.createElement(v.a.Item,{key:"budgetEntry"},r.a.createElement(j.b,{to:"/budget/budgetEntry"},r.a.createElement(_.a,{type:"fund",spin:"true"}),r.a.createElement("span",null,"Budget Planner"))),r.a.createElement(v.a.Item,{key:"tracker"},r.a.createElement(j.b,{to:"/budget/trackers"},r.a.createElement(_.a,{type:"transaction",spin:"true"}),r.a.createElement("span",null,"Tracker"))),r.a.createElement(Ut.a,{key:"cashflow",title:r.a.createElement("span",null,r.a.createElement(_.a,{type:"gold"}),r.a.createElement("span",null,"Cash Flow"))},r.a.createElement(v.a.Item,{key:"income"},r.a.createElement(j.b,{to:"/budget/income"},r.a.createElement(_.a,{type:"fund",spin:"true"}),r.a.createElement("span",null,"Income"))),r.a.createElement(v.a.Item,{key:"budgetspending"},r.a.createElement(j.b,{to:"/budget/budgetspending"},r.a.createElement(_.a,{type:"caret-right",spin:"true"}),r.a.createElement("span",null,"Spending"))),r.a.createElement(v.a.Item,{key:"saving"},r.a.createElement(j.b,{to:"/budget/saving"},r.a.createElement(_.a,{type:"strikethrough",spin:"true"}),r.a.createElement("span",null,"Saving")))),r.a.createElement(v.a.Item,{key:"2"},r.a.createElement(_.a,{type:"fund",spin:"true"}),r.a.createElement("span",null,"Total Income")),r.a.createElement(v.a.Item,{key:"3"},r.a.createElement(_.a,{type:"file-done"}),r.a.createElement("span",null,"Taxes (SS, Medicare, Medicaid)")),r.a.createElement(Ut.a,{key:"sub1",title:r.a.createElement("span",null,r.a.createElement(_.a,{type:"euro"}),r.a.createElement("span",null,"Pre Tax Items"))},r.a.createElement(v.a.Item,{key:"5"},"Retirement (401k, PF)"),r.a.createElement(v.a.Item,{key:"6"},"HSA"),r.a.createElement(v.a.Item,{key:"7"},"FSA")),r.a.createElement(Ut.a,{key:"sub2",title:r.a.createElement("span",null,r.a.createElement(_.a,{type:"gold"}),r.a.createElement("span",null,"Total Take Home Pay"))},r.a.createElement(v.a.Item,{key:"8"},"Budget"),r.a.createElement(v.a.Item,{key:"9"},"50% - Category"),r.a.createElement(v.a.Item,{key:"10"},"30% - Category"),r.a.createElement(v.a.Item,{key:"11"},"20% - Category"))))),r.a.createElement(Ha,{className:"content",style:{margin:"0px 0px 0",height:"auto"}},r.a.createElement(w.a,{from:"/",exact:!0,to:"/budget/budgetEntry",user:e.user}),r.a.createElement(w.b,{path:"/budget/budgetEntry",component:function(){return r.a.createElement(Aa,{user:e.user})}}),r.a.createElement(w.b,{path:"/budget/budgetspending",component:function(){return r.a.createElement(Wa,{user:e.user})}}),r.a.createElement(w.b,{path:"/budget/trackers",component:function(){return r.a.createElement(Ht,{user:e.user})}}),r.a.createElement(w.b,{path:"/budget/cashflow",component:function(){return r.a.createElement(L,{user:e.user})}}),r.a.createElement(w.b,{path:"/budget/saving",component:function(){return r.a.createElement(yt,{user:e.user})}}),r.a.createElement(w.b,{path:"/budget/income",component:function(){return r.a.createElement(Vt,{user:e.user})}}))))),r.a.createElement(Gt,null))});a(130);function Ga(){var e=Object(re.a)(["\n    query getAllSalary($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n        salaries(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            salary_amount\n            salary_category_id {\n                id\n                salary_type_name\n                status\n            }\n            spouse_salary\n            spouse_duration\n        }\n    }\n"]);return Ga=function(){return e},e}function Xa(){var e=Object(re.a)(["\n    query getAllSalary {\n        salaries {\n            id\n            user_id\n            duration\n            salary_amount\n            salary_category_id {\n                id\n                salary_type_name\n                status\n            }\n            spouse_salary\n            spouse_duration\n        }\n    }\n"]);return Xa=function(){return e},e}oe()(Xa());var Za=oe()(Ga()),en=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deleteSalaryMutation({variables:{id:e},refetchQueries:[{query:Za,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));a.props.updateSalaryMutation({variables:{user_id:e.user_id,duration:i,salary_amount:parseFloat(e.primaryamount),salary_category_id:e.salary_category_id,id:e.key,spouse_salary:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:Za,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateSalaryMutation({variables:{user_id:t.user_id,duration:n,salary_category_id:t.salary_category_id.id,id:t.id},refetchQueries:[{query:ye,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSpouseDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateSalaryMutation({variables:{user_id:t.user_id,spouse_duration:n,salary_category_id:t.salary_category_id.id,id:t.id},refetchQueries:[{query:ye,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[],primaryTotalSalary:0,spouseTotalSalary:0,count:2},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData})}},{key:"componentWillReceiveProps",value:function(e){this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=this.state.salaryData;a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:400},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:250},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:250},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:!1,scroll:{y:500},size:"small",bordered:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:1}),r.a.createElement(xe.a,{span:10},r.a.createElement("div",{className:"ant-layout"},"Total")),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Primary Total Income",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:6}),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Spouse Total Income",value:this.props.spouseTotalSalary}))))}}]),t}(r.a.Component),tn=Object(u.d)(Object(u.e)(xt,{name:"updateSalaryMutation"}),Object(u.e)(Dt,{name:"deleteSalaryMutation"}))(Object(u.f)(en)),an=K.a.Option,nn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t){a.child.handlePrimaryDurationChange(e,t)},a.handleSpouseDurationChange=function(e,t){a.child.handleSpouseDurationChange(e,t)},a.state={salary_type:""},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;this.state.intialData;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",null,r.a.createElement(y.a,{type:"primary",onClick:this.showModal},"Add New Salary Type"),r.a.createElement("div",null,r.a.createElement(ua,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:function(t){t.preventDefault();var a=e.formRef.props.form;a.validateFields((function(t,n){e.props.createSalaryMutation({variables:{salary_type_name:n.title,transactionDate:e.props.currentDate,user_id:e.props.user.email},refetchQueries:[{query:Za,variables:{user_id:e.props.user.email,tranaction_start_date:e.props.startDate,transaction_end_date:e.props.endDate}}]}),a.resetFields(),e.setState({visible:!1})}))}}))))),r.a.createElement(u.c,{query:Za,variables:{user_id:this.props.user.email,tranaction_start_date:this.props.startDate,transaction_end_date:this.props.endDate},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-and-network"},(function(t){var a=t.loading,n=t.error,i=t.data;if(a)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(n)return r.a.createElement("div",null,"Error");var o=[];if(null!=i){var s=function(){var t=i.salaries,a=0,n=0,s=function(i){o.push({key:t[i].id,topic:t[i].salary_category_id.salary_type_name,salary_category_id:t[i].salary_category_id.id,user_id:t[i].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[t[i].duration],onChange:function(a){return e.handlePrimaryDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(an,{key:e,value:e},e)}))),primaryamount:t[i].salary_amount,spouseduration:r.a.createElement(K.a,{defaultValue:ee[t[i].spouse_duration],onChange:function(a){return e.handleSpouseDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(an,{key:e,value:e},e)}))),spouseamount:t[i].spouse_salary}),a+=t[i].salary_amount,n+=t[i].spouse_salary};for(var u in t)s(u);return{v:r.a.createElement(tn,{startDate:e.props.startDate,endDate:e.props.endDate,salaryData:o,primaryTotalSalary:a,spouseTotalSalary:n,onRef:function(t){return e.child=t},user:e.props.user})}}();if("object"===typeof s)return s.v}})))}}]),t}(r.a.Component),rn=Object(u.d)(Object(u.e)(gt,{name:"createSalaryMutation"}))(Object(u.f)(nn)),on=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deleteBenefitMutation({variables:{id:e},refetchQueries:[{query:Tt,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));a.props.updateBenefitMutation({variables:{user_id:e.user_id,duration:i,salary_amount:parseFloat(e.primaryamount),benefit_type:e.benefit_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:Tt,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateBenefitMutation({variables:{user_id:t.user_id,duration:n,benefit_type:t.benefit_type.id,id:t.id},refetchQueries:[{query:Tt,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSpouseDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateBenefitMutation({variables:{user_id:t.user_id,spouse_duration:n,benefit_type:t.benefit_type.id,id:t.id},refetchQueries:[{query:Tt,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[],primaryTotalSalary:0,spouseTotalSalary:0,count:2},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData})}},{key:"componentWillReceiveProps",value:function(e){this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=this.state.salaryData;a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:400},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:250},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:250},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:!1,scroll:{y:500},size:"small",bordered:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:1}),r.a.createElement(xe.a,{span:10},r.a.createElement("div",{className:"ant-layout"},"Total")),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Primary Total Income",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:6}),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Spouse Total Income",value:this.props.spouseTotalSalary}))))}}]),t}(r.a.Component)),sn=Object(u.d)(Object(u.e)(wt,{name:"updateBenefitMutation"}),Object(u.e)(kt,{name:"deleteBenefitMutation"}))(Object(u.f)(on)),un=K.a.Option,ln=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t){a.child.handlePrimaryDurationChange(e,t)},a.handleSpouseDurationChange=function(e,t){a.child.handleSpouseDurationChange(e,t)},a.state={intialData:[],salary_type:""},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;this.state.intialData;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",null,r.a.createElement(y.a,{type:"primary",onClick:this.showModal},"Add New Benefit Type"),r.a.createElement("div",null,r.a.createElement(ua,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:function(t){t.preventDefault();var a=e.formRef.props.form;a.validateFields((function(t,n){e.props.createBenifitsMutation({variables:{benfeit_type:n.title,user_id:e.props.user.email,transactionDate:e.props.currentDate},refetchQueries:[{query:Tt,variables:{user_id:e.props.user.email,tranaction_start_date:e.props.startDate,transaction_end_date:e.props.endDate}}]}),a.resetFields(),e.setState({visible:!1})}))}}))))),r.a.createElement(u.c,{query:Tt,variables:{user_id:this.props.user.email,tranaction_start_date:this.props.startDate,transaction_end_date:this.props.endDate},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-and-network"},(function(t){var a=t.loading,n=t.error,i=t.data;if(a)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(n)return r.a.createElement("div",null,"Error");var o=[];if(null!=i){var s=function(){var t=i.benefitses,a=0,n=0,s=function(i){o.push({key:t[i].id,topic:t[i].benefit_type.benefit_type,benefit_type_id:t[i].benefit_type.id,user_id:t[i].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[t[i].duration],onChange:function(a){return e.handlePrimaryDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(un,{key:e,value:e},e)}))),primaryamount:t[i].salary_amount,spouseduration:r.a.createElement(K.a,{defaultValue:ee[t[i].spouse_duration],onChange:function(a){return e.handleSpouseDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(un,{key:e,value:e},e)}))),spouseamount:t[i].spouse_amount}),a+=t[i].salary_amount,n+=t[i].spouse_amount};for(var u in t)s(u);return{v:r.a.createElement(sn,{startDate:e.props.startDate,endDate:e.props.endDate,salaryData:o,primaryTotalSalary:a,spouseTotalSalary:n,onRef:function(t){return e.child=t},user:e.props.user})}}();if("object"===typeof s)return s.v}})))}}]),t}(r.a.Component),dn=Object(u.d)(Object(u.e)(jt,{name:"createBenifitsMutation"}))(Object(u.f)(ln));function cn(){var e=Object(re.a)(["\n    mutation deletePreTaxAmount($id: ID!) {\n        deletePreTaxAmount(where: { id: $id }) {\n            id\n        }\n    }\n"]);return cn=function(){return e},e}function pn(){var e=Object(re.a)(["\n    mutation updatePreTaxAmount(\n        $id: ID!\n        $user_id: String!\n        $duration: Int\n        $pre_tax_amount: Float\n        $pre_tax_type: ID!\n        $spouse_amount: Float\n        $spouse_duration: Int\n    ) {\n        updatePreTaxAmount(\n            where: { id: $id }\n            data: {\n                user_id: $user_id\n                duration: $duration\n                pre_tax_amount: $pre_tax_amount\n                pre_tax_type: $pre_tax_type\n                spouse_amount: $spouse_amount\n                spouse_duration: $spouse_duration\n            }\n        ) {\n            id\n        }\n    }\n"]);return pn=function(){return e},e}function mn(){var e=Object(re.a)(["\n    mutation createPreTaxAmount($user_id: String!, $pre_tax_type: String!,$transactionDate:DateTime!) {\n        createPreTaxAmount(\n            data: {\n                user_id: $user_id\n                pre_tax_type: {\n                    create: { pre_tax_type: $pre_tax_type, status: ACTIVE }\n                }\n                duration: 0\n                pre_tax_amount: 0\n                spouse_amount: 0\n                spouse_duration:0\n                transactionDate:$transactionDate\n            }\n        ) {\n            id\n            user_id\n        }\n    }\n"]);return mn=function(){return e},e}var hn=oe()(mn()),fn=oe()(pn()),yn=oe()(cn());function _n(){var e=Object(re.a)(["\n    query getAllPreTaxAmount($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n        preTaxAmounts(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            pre_tax_amount\n            pre_tax_type {\n                id\n                pre_tax_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return _n=function(){return e},e}function vn(){var e=Object(re.a)(["\n    query getAllPreTaxAmount {\n        preTaxAmounts {\n            id\n            user_id\n            duration\n            pre_tax_amount\n            pre_tax_type {\n                id\n                pre_tax_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return vn=function(){return e},e}var bn=oe()(vn()),En=oe()(_n()),gn=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deletePreTaxDeductionMutation({variables:{id:e},refetchQueries:[{query:bn,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));a.props.updatePreTaxDeductionMutation({variables:{user_id:e.user_id,duration:i,pre_tax_amount:parseFloat(e.primaryamount),pre_tax_type:e.pre_tax_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:bn,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updatePreTaxDeductionMutation({variables:{user_id:t.user_id,duration:n,pre_tax_type:t.pre_tax_type.id,id:t.id},refetchQueries:[{query:bn,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSpouseDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updatePreTaxDeductionMutation({variables:{user_id:t.user_id,spouse_duration:n,pre_tax_type:t.pre_tax_type.id,id:t.id},refetchQueries:[{query:bn,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[],primaryTotalSalary:0,spouseTotalSalary:0,count:2},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData})}},{key:"componentWillReceiveProps",value:function(e){this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=this.state.salaryData;a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:400},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:250},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:250},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:!1,scroll:{y:500},size:"small",bordered:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:1}),r.a.createElement(xe.a,{span:10},r.a.createElement("div",{className:"ant-layout"},"Total")),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Primary Total Income",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:6}),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Spouse Total Income",value:this.props.spouseTotalSalary}))))}}]),t}(r.a.Component)),xn=Object(u.d)(Object(u.e)(fn,{name:"updatePreTaxDeductionMutation"}),Object(u.e)(yn,{name:"deletePreTaxDeductionMutation"}))(Object(u.f)(gn)),Dn=K.a.Option,Sn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t){a.child.handlePrimaryDurationChange(e,t)},a.handleSpouseDurationChange=function(e,t){a.child.handleSpouseDurationChange(e,t)},a.state={intialData:[],salary_type:""},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;this.state.intialData;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",null,r.a.createElement(y.a,{type:"primary",onClick:this.showModal},"Add New PRE TAX DEDUCTION Type"),r.a.createElement("div",null,r.a.createElement(ua,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:function(t){t.preventDefault();var a=e.formRef.props.form;a.validateFields((function(t,n){e.props.createPreTaxDeductionMutation({variables:{pre_tax_type:n.title,user_id:e.props.user.email,transactionDate:e.props.currentDate},refetchQueries:[{query:En,variables:{user_id:e.props.user.email,tranaction_start_date:e.props.startDate,transaction_end_date:e.props.endDate}}]}),a.resetFields(),e.setState({visible:!1})}))}}))))),r.a.createElement(u.c,{query:En,variables:{user_id:this.props.user.email,tranaction_start_date:this.props.startDate,transaction_end_date:this.props.endDate},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-and-network"},(function(t){var a=t.loading,n=t.error,i=t.data;if(a)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(n)return r.a.createElement("div",null,"Error");var o=[];if(null!=i){var s=function(){var t=i.preTaxAmounts,a=0,n=0,s=function(i){o.push({key:t[i].id,topic:t[i].pre_tax_type.pre_tax_type,pre_tax_type_id:t[i].pre_tax_type.id,user_id:t[i].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[t[i].duration],onChange:function(a){return e.handlePrimaryDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Dn,{key:e,value:e},e)}))),primaryamount:t[i].pre_tax_amount,spouseduration:r.a.createElement(K.a,{defaultValue:ee[t[i].spouse_duration],onChange:function(a){return e.handleSpouseDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Dn,{key:e,value:e},e)}))),spouseamount:t[i].spouse_amount}),a+=t[i].pre_tax_amount,n+=t[i].spouse_amount};for(var u in t)s(u);return{v:r.a.createElement(xn,{startDate:e.props.startDate,endDate:e.props.endDate,salaryData:o,primaryTotalSalary:a,spouseTotalSalary:n,onRef:function(t){return e.child=t},user:e.props.user})}}();if("object"===typeof s)return s.v}})))}}]),t}(r.a.Component),On=Object(u.d)(Object(u.e)(hn,{name:"createPreTaxDeductionMutation"}))(Object(u.f)(Sn));function Cn(){var e=Object(re.a)(["\n    mutation deleteTaxesAmount($id: ID!) {\n        deleteTaxesAmount(where: { id: $id }) {\n            id\n        }\n    }\n"]);return Cn=function(){return e},e}function jn(){var e=Object(re.a)(["\n    mutation updateTaxesAmount(\n        $id: ID!\n        $user_id: String!\n        $duration: Int\n        $tax_amount: Float\n        $tax_type: ID!\n        $spouse_amount: Float\n        $spouse_duration: Int\n    ) {\n        updateTaxesAmount(\n            where: { id: $id }\n            data: {\n                user_id: $user_id\n                duration: $duration\n                tax_amount: $tax_amount\n                tax_type: $tax_type\n                spouse_amount: $spouse_amount\n                spouse_duration: $spouse_duration\n            }\n        ) {\n            id\n        }\n    }\n"]);return jn=function(){return e},e}function wn(){var e=Object(re.a)(["\n    mutation createTaxesAmount($user_id: String!, $tax_type: String!,$transactionDate:DateTime!) {\n        createTaxesAmount(\n            data: {\n                user_id: $user_id\n                tax_type: {\n                    create: { tax_type: $tax_type, status: ACTIVE }\n                }\n                duration: 0\n                tax_amount: 0\n                spouse_amount: 0\n                spouse_duration:0\n                transactionDate:$transactionDate\n            }\n        ) {\n            id\n            user_id\n        }\n    }\n"]);return wn=function(){return e},e}var kn=oe()(wn()),In=oe()(jn()),Mn=oe()(Cn());function $n(){var e=Object(re.a)(["\n    query getAllTaxAmounts($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n        taxesAmounts(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            tax_amount\n            tax_type {\n                id\n                tax_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return $n=function(){return e},e}function Tn(){var e=Object(re.a)(["\n    query getAllTaxAmounts {\n        taxesAmounts {\n            id\n            user_id\n            duration\n            tax_amount\n            tax_type {\n                id\n                tax_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return Tn=function(){return e},e}oe()(Tn());var Fn=oe()($n()),Nn=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deleteTaxMutation({variables:{id:e},refetchQueries:[{query:Fn,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));a.props.updateTaxMutation({variables:{user_id:e.user_id,duration:i,tax_amount:parseFloat(e.primaryamount),tax_type:e.tax_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:Fn,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateTaxMutation({variables:{user_id:t.user_id,duration:n,tax_type:t.tax_type.id,id:t.id},refetchQueries:[{query:Fn,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSpouseDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updateTaxMutation({variables:{user_id:t.user_id,spouse_duration:n,tax_type:t.tax_type.id,id:t.id},refetchQueries:[{query:Fn,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[],primaryTotalSalary:0,spouseTotalSalary:0,count:2},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData})}},{key:"componentWillReceiveProps",value:function(e){this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=this.state.salaryData;a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:400},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:250},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:250},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:!1,scroll:{y:500},size:"small",bordered:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:1}),r.a.createElement(xe.a,{span:10},r.a.createElement("div",{className:"ant-layout"},"Total")),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Primary Total Income",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:6}),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Spouse Total Income",value:this.props.spouseTotalSalary}))))}}]),t}(r.a.Component)),Pn=Object(u.d)(Object(u.e)(In,{name:"updateTaxMutation"}),Object(u.e)(Mn,{name:"deleteTaxMutation"}))(Object(u.f)(Nn)),Rn=K.a.Option,Vn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t){a.child.handlePrimaryDurationChange(e,t)},a.handleSpouseDurationChange=function(e,t){a.child.handleSpouseDurationChange(e,t)},a.state={intialData:[],salary_type:""},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;this.state.intialData;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",null,r.a.createElement(y.a,{type:"primary",onClick:this.showModal},"Add New TAX Type"),r.a.createElement("div",null,r.a.createElement(ua,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:function(t){t.preventDefault();var a=e.formRef.props.form;a.validateFields((function(t,n){e.props.createTaxMutation({variables:{tax_type:n.title,transactionDate:e.props.currentDate,user_id:e.props.user.email},refetchQueries:[{query:Fn,variables:{user_id:e.props.user.email,tranaction_start_date:e.props.startDate,transaction_end_date:e.props.endDate}}]}),a.resetFields(),e.setState({visible:!1})}))}}))))),r.a.createElement(u.c,{query:Fn,variables:{user_id:this.props.user.email,tranaction_start_date:this.props.startDate,transaction_end_date:this.props.endDate},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-and-network"},(function(t){var a=t.loading,n=t.error,i=t.data;if(a)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(n)return r.a.createElement("div",null,"Error");var o=[];if(null!=i){var s=function(){var t=i.taxesAmounts,a=0,n=0,s=function(i){o.push({key:t[i].id,topic:t[i].tax_type.tax_type,tax_type_id:t[i].tax_type.id,user_id:t[i].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[t[i].duration],onChange:function(a){return e.handlePrimaryDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Rn,{key:e,value:e},e)}))),primaryamount:t[i].tax_amount,spouseduration:r.a.createElement(K.a,{defaultValue:ee[t[i].spouse_duration],onChange:function(a){return e.handleSpouseDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Rn,{key:e,value:e},e)}))),spouseamount:t[i].spouse_amount}),a+=t[i].tax_amount,n+=t[i].spouse_amount};for(var u in t)s(u);return{v:r.a.createElement(Pn,{startDate:e.props.startDate,endDate:e.props.endDate,salaryData:o,primaryTotalSalary:a,spouseTotalSalary:n,onRef:function(t){return e.child=t},user:e.props.user})}}();if("object"===typeof s)return s.v}})))}}]),t}(r.a.Component),An=Object(u.d)(Object(u.e)(kn,{name:"createTaxMutation"}))(Object(u.f)(Vn));function Bn(){var e=Object(re.a)(["\n    mutation deletePostTaxAmount($id: ID!) {\n        deletePostTaxAmount(where: { id: $id }) {\n            id\n        }\n    }\n"]);return Bn=function(){return e},e}function Ln(){var e=Object(re.a)(["\n    mutation updatePostTaxAmount(\n        $id: ID!\n        $user_id: String!\n        $duration: Int\n        $post_tax_amount: Float\n        $post_tax_type: ID!\n        $spouse_amount: Float\n        $spouse_duration: Int\n    ) {\n        updatePostTaxAmount(\n            where: { id: $id }\n            data: {\n                user_id: $user_id\n                duration: $duration\n                post_tax_amount: $post_tax_amount\n                post_tax_type: $post_tax_type\n                spouse_amount: $spouse_amount\n                spouse_duration: $spouse_duration\n            }\n        ) {\n            id\n        }\n    }\n"]);return Ln=function(){return e},e}function qn(){var e=Object(re.a)(["\n    mutation createPostTaxAmount($user_id: String!, $post_tax_type: String!,$transactionDate:DateTime!) {\n        createPostTaxAmount(\n            data: {\n                user_id: $user_id\n                post_tax_type: {\n                    create: { post_tax_type: $post_tax_type, status: ACTIVE }\n                }\n                duration: 0\n                post_tax_amount: 0\n                spouse_amount: 0\n                spouse_duration:0\n                transactionDate:$transactionDate\n            }\n        ) {\n            id\n            user_id\n        }\n    }\n"]);return qn=function(){return e},e}var Kn=oe()(qn()),zn=oe()(Ln()),Yn=oe()(Bn());function Qn(){var e=Object(re.a)(["\n    query getAllPostTaxAmounts($user_id:String!,$tranaction_start_date:DateTime!,$transaction_end_date:DateTime!){\n        postTaxAmounts(where: {user_id:$user_id,transactionDate_gte: $tranaction_start_date, transactionDate_lte:$transaction_end_date}){\n            id\n            user_id\n            duration\n            post_tax_amount\n            post_tax_type {\n                id\n                post_tax_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return Qn=function(){return e},e}function Wn(){var e=Object(re.a)(["\n    query getAllPostTaxAmounts {\n        postTaxAmounts {\n            id\n            user_id\n            duration\n            post_tax_amount\n            post_tax_type {\n                id\n                post_tax_type\n                status\n            }\n            spouse_amount\n            spouse_duration\n        }\n    }\n"]);return Wn=function(){return e},e}oe()(Wn());var Hn=oe()(Qn()),Un=(K.a.Option,function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleResize=function(e){return function(t,n){var r=n.size;a.setState((function(t){var a=t.columns,n=Object(q.a)(a);return n[e]=Object(ve.a)({},n[e],{width:r.width}),{columns:n}}))}},a.handleChange=function(e,t,n){a.setState({filteredInfo:t,sortedInfo:n})},a.handleDelete=function(e){a.props.deletePostTaxDeductionMutation({variables:{id:e},refetchQueries:[{query:Hn,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSave=function(e){var t=Object(q.a)(a.state.salaryData),n=t.findIndex((function(t){return e.key===t.key})),r=t[n];t.splice(n,1,Object(ve.a)({},r,{},e));var i=ee.findIndex((function(t){return e.primaryduration.props.defaultValue===t})),o=ee.findIndex((function(t){return e.spouseduration.props.defaultValue===t}));a.props.updatePostTaxDeductionMutation({variables:{user_id:e.user_id,duration:i,post_tax_amount:parseFloat(e.primaryamount),post_tax_type:e.post_tax_type_id,id:e.key,spouse_amount:parseFloat(e.spouseamount),spouse_duration:o},refetchQueries:[{query:Hn,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]}),a.setState({salaryData:t})},a.handlePrimaryDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updatePostTaxDeductionMutation({variables:{user_id:t.user_id,duration:n,post_tax_type:t.post_tax_type.id,id:t.id},refetchQueries:[{query:Hn,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.handleSpouseDurationChange=function(e,t){var n=ee.findIndex((function(t){return e===t}));a.props.updatePostTaxDeductionMutation({variables:{user_id:t.user_id,spouse_duration:n,post_tax_type:t.post_tax_type.id,id:t.id},refetchQueries:[{query:Hn,variables:{user_id:a.props.user.email,tranaction_start_date:a.props.startDate,transaction_end_date:a.props.endDate}}]})},a.state={filteredInfo:null,sortedInfo:null,salaryData:[],primaryTotalSalary:0,spouseTotalSalary:0,count:2},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setState({salaryData:this.props.salaryData})}},{key:"componentWillReceiveProps",value:function(e){this.setState({salaryData:e.salaryData})}},{key:"render",value:function(){var e=this,t=this.state,a=t.sortedInfo,n=t.filteredInfo,i=this.state.salaryData;a=a||{},n=n||{};var o=[{title:r.a.createElement("div",{style:{}},"Title"),dataIndex:"topic",key:"topic",editable:!1,render:function(e){return r.a.createElement("a",null,e)},filteredValue:n.name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===a.columnKey&&a.order,width:400},{title:"primary duration",dataIndex:"primaryduration",key:"primaryduration",editable:!1,sorter:function(e,t){return e.primaryduration-t.primaryduration},sortOrder:"primaryduration"===a.columnKey&&a.order},{title:"primary amount",dataIndex:"primaryamount",key:"primaryamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.primaryamount.includes(e)},sorter:function(e,t){return e.primaryamount-t.primaryamount},sortOrder:"primaryamount"===a.columnKey&&a.order,width:250},{title:"spouse duration",dataIndex:"spouseduration",key:"spouseduration",editable:!1,sorter:function(e,t){return e.spouseduration-t.spouseduration},sortOrder:"spouseduration"===a.columnKey&&a.order},{title:"spouse amount",dataIndex:"spouseamount",key:"spouseamount",editable:!0,filteredValue:n.address||null,onFilter:function(e,t){return t.spouseamount.includes(e)},sorter:function(e,t){return e.spouseamount-t.spouseamount},sortOrder:"spouseamount"===a.columnKey&&a.order,width:250},{title:"operation",dataIndex:"operation",render:function(t,a){return e.state.salaryData.length>=1?r.a.createElement(be.a,{title:"Sure to delete?",onConfirm:function(){return e.handleDelete(a.key)}},r.a.createElement("a",null,"Delete")):null},width:150}],s={body:{row:je,cell:ke},header:{}},u=o.map((function(t){return t.editable?Object(ve.a)({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t})).map((function(t,a){return Object(ve.a)({},t,{onHeaderCell:function(t){return{width:t.width,onResize:e.handleResize(a)}}})}));return r.a.createElement("div",null,r.a.createElement("div",{className:"App"},r.a.createElement(Ee.a,{className:"ant-table-content",components:s,rowClassName:function(){return"editable-row"},dataSource:i,columns:u,onChange:this.handleChange,pagination:!1,scroll:{y:500},size:"small",bordered:!0})),r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:1}),r.a.createElement(xe.a,{span:10},r.a.createElement("div",{className:"ant-layout"},"Total")),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Primary Total Income",value:this.props.primaryTotalSalary})),r.a.createElement(xe.a,{span:6}),r.a.createElement(xe.a,{span:2},r.a.createElement(De.a,{title:"Spouse Total Income",value:this.props.spouseTotalSalary}))))}}]),t}(r.a.Component)),Jn=Object(u.d)(Object(u.e)(zn,{name:"updatePostTaxDeductionMutation"}),Object(u.e)(Yn,{name:"deletePostTaxDeductionMutation"}))(Object(u.f)(Un)),Gn=K.a.Option,Xn=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).showModal=function(){a.setState({visible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.saveFormRef=function(e){a.formRef=e,a.setState({formRef:e})},a.handlePrimaryDurationChange=function(e,t){a.child.handlePrimaryDurationChange(e,t)},a.handleSpouseDurationChange=function(e,t){a.child.handleSpouseDurationChange(e,t)},a.state={intialData:[],salary_type:""},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;this.state.intialData;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",null,r.a.createElement(y.a,{type:"primary",onClick:this.showModal},"Add New POST TAX DEDUCTION Type"),r.a.createElement("div",null,r.a.createElement(ua,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:function(t){t.preventDefault();var a=e.formRef.props.form;a.validateFields((function(t,n){e.props.createPostTaxDeductionMutation({variables:{post_tax_type:n.title,transactionDate:e.props.currentDate,user_id:e.props.user.email},refetchQueries:[{query:Hn,variables:{user_id:e.props.user.email,tranaction_start_date:e.props.startDate,transaction_end_date:e.props.endDate}}]}),a.resetFields(),e.setState({visible:!1})}))}}))))),r.a.createElement(u.c,{query:Hn,variables:{user_id:this.props.user.email,tranaction_start_date:this.props.startDate,transaction_end_date:this.props.endDate},notifyOnNetworkStatusChange:!0,fetchPolicy:"cache-and-network"},(function(t){var a=t.loading,n=t.error,i=t.data;if(a)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(n)return r.a.createElement("div",null,"Error");var o=[];if(null!=i){var s=function(){var t=i.postTaxAmounts,a=0,n=0,s=function(i){o.push({key:t[i].id,topic:t[i].post_tax_type.post_tax_type,post_tax_type_id:t[i].post_tax_type.id,user_id:t[i].user_id,primaryduration:r.a.createElement(K.a,{defaultValue:ee[t[i].duration],onChange:function(a){return e.handlePrimaryDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Gn,{key:e,value:e},e)}))),primaryamount:t[i].post_tax_amount,spouseduration:r.a.createElement(K.a,{defaultValue:ee[t[i].spouse_duration],onChange:function(a){return e.handleSpouseDurationChange(a,t[i])},showSearch:!0,style:{width:100},placeholder:"Select a type",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},ee.map((function(e){return r.a.createElement(Gn,{key:e,value:e},e)}))),spouseamount:t[i].spouse_amount}),a+=t[i].post_tax_amount,n+=t[i].spouse_amount};for(var u in t)s(u);return{v:r.a.createElement(Jn,{startDate:e.props.startDate,endDate:e.props.endDate,salaryData:o,primaryTotalSalary:a,spouseTotalSalary:n,onRef:function(t){return e.child=t},user:e.props.user})}}();if("object"===typeof s)return s.v}})))}}]),t}(r.a.Component),Zn=Object(u.d)(Object(u.e)(Kn,{name:"createPostTaxDeductionMutation"}))(Object(u.f)(Xn)),er=ea.a.MonthPicker,tr=new Q.a,ar=Q()([tr._d.getFullYear(),tr._d.getMonth(),1]).format("YYYY-MM-DD"),nr=Q()(ar).daysInMonth(),rr=Q()(ar).add(nr-1,"days").format("YYYY-MM-DD"),ir=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={readyForSubmit:!1},a.onChange=function(e,t,n){var r=Q()([e._d.getFullYear(),e._d.getMonth(),1]).format("YYYY-MM-DD"),i=Q()(r).daysInMonth(),o=Q()(r).add(i-1,"days").format("YYYY-MM-DD"),s=Q()(o).subtract(1,"day").format("YYYY-MM-DD");a.setState({startDate:r}),a.setState({endDate:o}),a.setState({currentDate:s})},a.state={current:0,startDate:ar,endDate:rr,currentDate:tr},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.user),r.a.createElement("div",{className:"step-progress"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",{className:"App"},r.a.createElement(er,{defaultValue:Q()(tr,"YYYY/MMMM"),format:"YYYY/MMMM",placeholder:"Select Month",onChange:function(t,a){return e.onChange(t,a,1)}})))),r.a.createElement(Zt.a,{steps:[{name:"Salary",component:r.a.createElement(rn,{currentDate:this.state.currentDate,startDate:this.state.startDate,endDate:this.state.endDate,user:this.props.user})},{name:"Benefits",component:r.a.createElement(dn,{currentDate:this.state.currentDate,startDate:this.state.startDate,endDate:this.state.endDate,user:this.props.user})},{name:"Pre Tax Deduction",component:r.a.createElement(On,{currentDate:this.state.currentDate,startDate:this.state.startDate,endDate:this.state.endDate,user:this.props.user})},{name:"Taxes",component:r.a.createElement(An,{currentDate:this.state.currentDate,startDate:this.state.startDate,endDate:this.state.endDate})},{name:"Post Tax Deductions",component:r.a.createElement(Zn,{currentDate:this.state.currentDate,startDate:this.state.startDate,endDate:this.state.endDate,user:this.props.user})}],nextButtonCls:"multiStepButton",backButtonCls:"multiStepButton"}))}}]),t}(r.a.Component),or=(a(251),a(555));function sr(){var e=Object(re.a)(["\n  mutation submit($file: Upload!) {\n    singleUpload(file: $file) {\n      filename,\n      mimetype,\n      createdAt\n    }\n  }\n"]);return sr=function(){return e},e}var ur=oe()(sr()),lr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[],uploading:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.uploading,n=t.fileList,i={onRemove:function(t){e.setState((function(e){var a=e.fileList.indexOf(t),n=e.fileList.slice();return n.splice(a,1),{fileList:n}}))},beforeUpload:function(t){return e.setState((function(e){return{fileList:[].concat(Object(q.a)(e.fileList),[t])}})),!1},fileList:n};return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(Oe.a.Item,{label:"Dragger"},r.a.createElement(or.a.Dragger,Object.assign({name:"files"},i),r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(_.a,{type:"inbox"})),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"))),r.a.createElement(Oe.a.Item,null,r.a.createElement(u.b,{mutation:ur},(function(t){return r.a.createElement(y.a,{type:"primary",disabled:0===n.length,loading:a,style:{marginTop:16},onClick:function(a){console.log("New file",e.state.fileList[0]);var n=e.state.fileList[0];t({variables:{file:n}})}},a?"Uploading":"Start Upload")}))))}}]),t}(r.a.Component),dr=Oe.a.create({name:"validate_other"})(lr),cr=f.a.Content,pr=f.a.Sider,mr=function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),i=a[0],o=a[1],s=Object(C.b)();return Object(n.useEffect)((function(){s({type:T,payload:{component:"paystub",sideBarMenuKey:"paystub"}})}),[s]),r.a.createElement(f.a,{className:"app"},r.a.createElement($,{user:e.user}),r.a.createElement(cr,{className:"content"},r.a.createElement(j.a,null,r.a.createElement(f.a,{style:{padding:"0px 0px"}},r.a.createElement(pr,{style:{padding:"0px 0px"},id:"sider-menu",trigger:null,collapsible:!0,collapsed:i,breakpoint:"lg",onBreakpoint:function(e){},onCollapse:o,width:"270"},r.a.createElement("div",{style:{padding:"0px 0px"}},r.a.createElement(y.a,{type:"primary",onClick:function(){return o(!i)},style:{marginBottom:16}},r.a.createElement(_.a,{type:i?"menu-unfold":"menu-fold"})),r.a.createElement(v.a,{defaultSelectedKeys:["manualentry"],mode:"inline",theme:"dark",inlineCollapsed:i,style:{padding:"0px 0px"}},r.a.createElement(Ut.a,{key:"pay",title:r.a.createElement("span",null,r.a.createElement(_.a,{type:"gold"}),r.a.createElement("span",null,"Pay Stubs"))},r.a.createElement(v.a.Item,{key:"autoscan"},r.a.createElement(j.b,{to:"/paystub/autoscanpdf"},r.a.createElement("span",null,"Auto Scan"))),r.a.createElement(v.a.Item,{key:"manualentry"},r.a.createElement(j.b,{to:"/paystub/manualentry"},r.a.createElement("span",null,"Manual Entry"))))))),r.a.createElement(cr,{className:"content",style:{margin:"0px 0px 0"}},r.a.createElement(w.b,{path:"/paystub/autoscanpdf",component:dr}),r.a.createElement(w.b,{path:"/paystub/manualentry",component:function(){return r.a.createElement(ir,{user:e.user})}}))))),r.a.createElement(Gt,null))},hr=f.a.Content,fr=f.a.Sider,yr=(f.a.Footer,function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),i=a[0],o=a[1],s=Object(C.b)();return Object(n.useEffect)((function(){s({type:T,payload:{component:"advice",sideBarMenuKey:"advice"}})}),[s]),r.a.createElement(f.a,{className:"app"},r.a.createElement($,{user:e.user}),r.a.createElement(hr,{style:{padding:"0px 0px"}},r.a.createElement(f.a,{style:{padding:"0px 0px"}},r.a.createElement(fr,{style:{padding:"0px 0px",border:10},id:"sider-menu",trigger:null,collapsible:!0,collapsed:i,breakpoint:"lg",onBreakpoint:function(e){},onCollapse:o,width:"270"},r.a.createElement("div",{style:{padding:"0px 0px"}},r.a.createElement(y.a,{type:"primary",style:{marginBottom:16},onClick:function(){return o(!i)}},r.a.createElement(_.a,{type:i?"menu-unfold":"menu-fold"})),r.a.createElement(v.a,{defaultSelectedKeys:["debtngmt"],mode:"inline",theme:"dark",inlineCollapsed:i,style:{padding:"0px 0px"}},r.a.createElement(v.a.Item,{key:"debtngmt"},r.a.createElement(_.a,{type:"dollar"}),r.a.createElement("span",null,"Debt Mgmt")),r.a.createElement(v.a.Item,{key:"rp"},r.a.createElement(_.a,{type:"user"}),r.a.createElement("span",null,"Retirement Planning")),r.a.createElement(v.a.Item,{key:"kids"},r.a.createElement(_.a,{type:"smile",theme:"outlined"}),r.a.createElement("span",null,"Kids")),r.a.createElement(Ut.a,{key:"cp",title:r.a.createElement("span",null,r.a.createElement(_.a,{type:"trophy"}),r.a.createElement("span",null,"College Planning"))},r.a.createElement(v.a.Item,{key:"529"},"529"),r.a.createElement(v.a.Item,{key:"sl"},"Student Loans")),r.a.createElement(v.a.Item,{key:"medical"},r.a.createElement(_.a,{type:"medicine-box"}),r.a.createElement("span",null,"Medical")),r.a.createElement(v.a.Item,{key:"vehicle"},r.a.createElement(_.a,{type:"car"}),r.a.createElement("span",null,"Vehicle")),r.a.createElement(Ut.a,{key:"cc",title:r.a.createElement("span",null,r.a.createElement(_.a,{type:"credit-card"}),r.a.createElement("span",null,"Credit Cards"))},r.a.createElement(v.a.Item,{key:"fee"},"Fees"),r.a.createElement(v.a.Item,{key:"point"},"Points")),r.a.createElement(v.a.Item,{key:"fa"},r.a.createElement(_.a,{type:"phone"}),r.a.createElement("span",null,"Financial Advice")),r.a.createElement(v.a.Item,{key:"inv"},r.a.createElement(_.a,{type:"pound"}),r.a.createElement("span",null,"Investing")),r.a.createElement(v.a.Item,{key:"sav"},r.a.createElement(_.a,{type:"save"}),r.a.createElement("span",null,"Savings")),r.a.createElement(v.a.Item,{key:"trv"},r.a.createElement(_.a,{type:"rocket"}),r.a.createElement("span",null,"Travel")),r.a.createElement(v.a.Item,{key:"hb"},r.a.createElement(_.a,{type:"home"}),r.a.createElement("span",null,"Home Buying")),r.a.createElement(v.a.Item,{key:"wts"},r.a.createElement(_.a,{type:"loading-3-quarters"}),r.a.createElement("span",null,"Ways to Save")),r.a.createElement(v.a.Item,{key:"ban"},r.a.createElement(_.a,{type:"bank"}),r.a.createElement("span",null,"Banking")),r.a.createElement(v.a.Item,{key:"ins"},r.a.createElement(_.a,{type:"insurance"}),r.a.createElement("span",null,"Insurance")),r.a.createElement(v.a.Item,{key:"cs"},r.a.createElement(_.a,{type:"percentage"}),r.a.createElement("span",null,"Credit Score")),r.a.createElement(v.a.Item,{key:"bm"},r.a.createElement(_.a,{type:"exception"}),r.a.createElement("span",null,"Bills Mgmt")),r.a.createElement(v.a.Item,{key:"subsc"},r.a.createElement(_.a,{type:"youtube"}),r.a.createElement("span",null,"Subscriptions")),r.a.createElement(Ut.a,{key:"sol",title:r.a.createElement("span",null,r.a.createElement(_.a,{type:"mail"}),r.a.createElement("span",null,"Stages of Life"))},r.a.createElement(v.a.Item,{key:"ki"},"Kid"),r.a.createElement(v.a.Item,{key:"ya"},"Young Adult"),r.a.createElement(v.a.Item,{key:"ad"},"Adult"),r.a.createElement(v.a.Item,{key:"ret"},"Retirement"))))),r.a.createElement(hr,{className:"content",style:{margin:"0px 0px 0"}}))),r.a.createElement(Gt,null))}),_r=a(552),vr=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,i=e.form.getFieldDecorator;return r.a.createElement(oa.a,{visible:t,title:"Create New Goal",okText:"Create",onCancel:a,onOk:n},r.a.createElement(Oe.a,{layout:"vertical"},r.a.createElement(Oe.a.Item,{label:"New Goal"},i("goal",{rules:[{required:!0,message:"Please input the title of collection!"}]})(r.a.createElement(we.a,null)))))}}]),t}(r.a.Component),br=Oe.a.create()(vr),Er=(a(524),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).updateCharts=a.updateCharts.bind(Object(N.a)(a)),a.state={optionsMixedChart:{chart:{id:"basic-bar",toolbar:{show:!1}},plotOptions:{bar:{columnWidth:"80%",endingShape:"bar"}},stroke:{width:[2,15,15]},xaxis:{categories:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug"]},markers:{size:6,strokeWidth:3,fillOpacity:0,strokeOpacity:0,hover:{size:8}},yaxis:{tickAmount:5,min:0,max:100}},seriesMixedChart:[{name:"series-1",type:"line",data:[30,40,25,50,49,21,70,51]},{name:"series-2",type:"column",data:[23,12,54,61,32,56,81,19]},{name:"series-3",type:"column",data:[62,12,45,55,76,41,23,43]}],optionsRadial:{plotOptions:{radialBar:{startAngle:-135,endAngle:225,hollow:{margin:0,size:"70%",background:"#fff",image:void 0,imageOffsetX:0,imageOffsetY:0,position:"front",dropShadow:{enabled:!0,top:3,left:0,blur:4,opacity:.24}},track:{background:"#fff",strokeWidth:"67%",margin:0,dropShadow:{enabled:!0,top:-3,left:0,blur:4,opacity:.35}},dataLabels:{showOn:"always",name:{offsetY:-20,show:!0,color:"#888",fontSize:"13px"},value:{formatter:function(e){return e},color:"#111",fontSize:"30px",show:!0}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:["#ABE5A1"],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},labels:["Percent"]},seriesRadial:[76],optionsBar:{chart:{stacked:!0,stackType:"100%",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0}},dataLabels:{dropShadow:{enabled:!0}},stroke:{width:0},xaxis:{categories:["Fav Color"],labels:{show:!1},axisBorder:{show:!1},axisTicks:{show:!1}},fill:{opacity:1,type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.35,gradientToColors:void 0,inverseColors:!1,opacityFrom:.85,opacityTo:.85,stops:[90,0,100]}},legend:{position:"bottom",horizontalAlign:"right"}},seriesBar:[{name:"blue",data:[32]},{name:"green",data:[41]},{name:"yellow",data:[12]},{name:"red",data:[65]}]},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"updateCharts",value:function(){var e=[],t=[];this.state.seriesMixedChart.map((function(t){var a=t.data.map((function(){return Math.floor(61*Math.random())+30}));e.push({data:a,type:t.type})})),this.state.seriesBar.map((function(e){var a=e.data.map((function(){return Math.floor(151*Math.random())+30}));t.push({data:a,name:e.name})})),this.setState({seriesMixedChart:e,seriesBar:t,seriesRadial:[Math.floor(41*Math.random())+50]})}},{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col mixed-chart"},r.a.createElement(Ze.a,{options:this.state.optionsMixedChart,series:this.state.seriesMixedChart,type:"line",width:"500"}))))}}]),t}(n.Component)),gr=f.a.Content,xr=f.a.Sider,Dr=(f.a.Footer,function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),i=a[0],o=a[1],s=Object(C.b)();Object(n.useEffect)((function(){s({type:T,payload:{component:"goals",sideBarMenuKey:"goals"}})}),[s]);var u=Object(n.useState)(d),l=Object(h.a)(u,2),d=l[0],c=l[1],p=Object(n.useState)(!1),m=Object(h.a)(p,2),b=m[0],E=m[1],g=Object(n.useState)(["Vacation","Car","Home"]),x=Object(h.a)(g,2),D=x[0],S=x[1];return r.a.createElement(f.a,{className:"app"},r.a.createElement($,{user:e.user}),r.a.createElement(gr,{style:{padding:"0px 0px"}},r.a.createElement(f.a,{style:{padding:"0px 0px"}},r.a.createElement(xr,{style:{padding:"0px 0px"},id:"sider-menu",trigger:null,collapsible:!0,collapsed:i,breakpoint:"lg",onBreakpoint:function(e){},onCollapse:o},r.a.createElement("div",{style:{padding:"0px 0px"}},r.a.createElement(y.a,{type:"primary",onClick:function(){return o(!i)},style:{marginBottom:16}},r.a.createElement(_.a,{type:i?"menu-unfold":"menu-fold"})),r.a.createElement(v.a,{defaultSelectedKeys:["vac"],mode:"inline",theme:"dark",inlineCollapsed:i,style:{padding:"0px 0px"}},r.a.createElement(Ut.a,{key:"goals",title:r.a.createElement("span",null,r.a.createElement(_.a,{type:"crown"}),r.a.createElement("span",null,"Goals"))},D.map((function(e){return r.a.createElement(v.a.Item,{key:e},r.a.createElement(_.a,{type:"crown"}),r.a.createElement("span",null,e))})))))),r.a.createElement(gr,{className:"content",style:{margin:"0px 0px 0"}},r.a.createElement("div",{className:"ant-layout"},r.a.createElement(ge.a,null,r.a.createElement(xe.a,{span:5},r.a.createElement("div",null,r.a.createElement(y.a,{type:"primary",onClick:E},"New Goal"),r.a.createElement(br,{wrappedComponentRef:c,visible:b,onCancel:function(){E(!1)},onCreate:function(){var e=d.props.form;e.validateFields((function(t,a){t||(console.log("Received values of form: ",[].concat(Object(q.a)(D),[a.goal])),S([].concat(Object(q.a)(D),[a.goal])),e.resetFields())})),E(!1)}})))),r.a.createElement(ge.a,null,r.a.createElement("div",null,r.a.createElement(_r.a,null,D.map((function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,e),r.a.createElement(Er,null))}))))))))),r.a.createElement(Gt,null))}),Sr=f.a.Content,Or=f.a.Sider,Cr=function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),i=a[0],o=a[1],s=Object(C.b)();return Object(n.useEffect)((function(){s({type:T,payload:{component:"calculator",sideBarMenuKey:"calculator"}})}),[s]),r.a.createElement(f.a,{className:"app"},r.a.createElement($,{user:e.user}),r.a.createElement(Sr,{style:{padding:"0px 0px"}},r.a.createElement(f.a,{style:{padding:"0px 0px"}},r.a.createElement(Or,{style:{padding:"0px 0px"},id:"sider-menu",trigger:null,collapsible:!0,collapsed:i,breakpoint:"lg",onBreakpoint:function(e){},onCollapse:o},r.a.createElement("div",{style:{padding:"0px 0px"}},r.a.createElement(y.a,{type:"primary",onClick:function(){return o(!i)},style:{marginBottom:16}},r.a.createElement(_.a,{type:i?"menu-unfold":"menu-fold"})),r.a.createElement(v.a,{defaultSelectedKeys:["nw"],mode:"inline",theme:"dark",inlineCollapsed:i,style:{padding:"0px 0px"}},r.a.createElement(v.a.Item,{key:"lc"},r.a.createElement(_.a,{type:"check-circle"}),r.a.createElement("span",null,"Loan Calculator")),r.a.createElement(v.a.Item,{key:"mc"},r.a.createElement(_.a,{type:"bg-colors"}),r.a.createElement("span",null,"Mortgage Calculator"))))),r.a.createElement(Sr,{className:"content",style:{margin:"0px 0px 0"}}))),r.a.createElement(Gt,null))},jr=(K.a.Option,function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){e||console.log("Received values of form: ",t)}))},a.normFile=function(e){return console.log("Upload event:",e),Array.isArray(e)?e:e&&e.fileList},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(Oe.a,{onSubmit:this.handleSubmit},r.a.createElement(Oe.a.Item,{label:"Dragger"},e("dragger",{valuePropName:"fileList",getValueFromEvent:this.normFile})(r.a.createElement(or.a.Dragger,{name:"files"},r.a.createElement("p",{className:"ant-upload-drag-icon"},r.a.createElement(_.a,{type:"inbox"})),r.a.createElement("p",{className:"ant-upload-text"},"Click or drag file to this area to upload"),r.a.createElement("p",{className:"ant-upload-hint"},"Support for a single or bulk upload.")))),r.a.createElement(Oe.a.Item,null,r.a.createElement(y.a,{type:"primary",htmlType:"submit"},"Submit"))))}}]),t}(r.a.Component)),wr=Oe.a.create({name:"validate_other"})(jr),kr=f.a.Content,Ir=f.a.Sider,Mr=(f.a.Footer,function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),i=a[0],o=a[1],s=Object(C.b)();return Object(n.useEffect)((function(){s({type:T,payload:{component:"accounts",sideBarMenuKey:"accounts"}})}),[s]),r.a.createElement(f.a,{className:"app"},r.a.createElement($,{user:e.user}),r.a.createElement(kr,{style:{padding:"0px 0px"}},r.a.createElement(j.a,null,r.a.createElement(f.a,{style:{padding:"0px 0px"}},r.a.createElement(Ir,{style:{padding:"0px 0px"},id:"sider-menu",trigger:null,collapsible:!0,collapsed:i,breakpoint:"lg",onBreakpoint:function(e){},onCollapse:o},r.a.createElement("div",{style:{padding:"0px 0px"}},r.a.createElement(y.a,{type:"primary",onClick:function(){return o(!i)},style:{marginBottom:16}},r.a.createElement(_.a,{type:i?"menu-unfold":"menu-fold"})),r.a.createElement(v.a,{defaultSelectedKeys:["cash"],mode:"inline",theme:"dark",inlineCollapsed:i,style:{padding:"0px 0px"}},r.a.createElement(Ut.a,{key:"sub2",title:r.a.createElement("span",null,r.a.createElement(_.a,{type:"gold"}),r.a.createElement("span",null,"Total Net Worth"))},r.a.createElement(v.a.Item,{key:"cash"},r.a.createElement(j.b,{to:"/accounts/cash"},r.a.createElement(_.a,{type:"dollar"}),r.a.createElement("span",null,"Cash"))),r.a.createElement(v.a.Item,{key:"cc"},r.a.createElement(_.a,{type:"credit-card"}),r.a.createElement("span",null,"Credit Cards")),r.a.createElement(v.a.Item,{key:"loans"},r.a.createElement(_.a,{type:"transaction"}),r.a.createElement("span",null,"Loans")),r.a.createElement(v.a.Item,{key:"investment"},r.a.createElement(_.a,{type:"line-chart"}),r.a.createElement("span",null,"Investments")),r.a.createElement(v.a.Item,{key:"property"},r.a.createElement(_.a,{type:"property-safety"}),r.a.createElement("span",null,"Property")))))),r.a.createElement(kr,{className:"content",style:{margin:"0px 0px 0"}},r.a.createElement(w.b,{path:"/accounts/cash",component:wr}))))),r.a.createElement(Gt,null))}),$r=a(208),Tr=a.n($r);a(537),a(538),a(539),a(540);function Fr(){var e=Object(re.a)(["\n  mutation createUser($user_id: String!, $screen_user_name: String!) {\n    createuserAccount(\n      data: { user_id: $user_id, screen_user_name: $screen_user_name }\n    ) {\n      id\n      user_id\n    }\n  }\n"]);return Fr=function(){return e},e}var Nr=oe()(Fr()),Pr=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).handleSignUp=function(e){var t,n;return Tr.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:e.preventDefault(),t=new k.auth.GoogleAuthProvider,n=a.props.history;try{I.auth().signInWithPopup(t).then((function(e){console.log(e),a.props.createUserMutation({variables:{user_id:e.user.email,screen_user_name:e.user.displayName}}),n.push("/")}))}catch(i){alert(i)}case 4:case"end":return r.stop()}}))},a.handleFbSignUp=function(e){var t,n;return Tr.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:e.preventDefault(),t=new k.auth.FacebookAuthProvider,n=a.props.history;try{I.auth().signInWithPopup(t).then((function(e){n.push("/")})).catch((function(e){e.code,e.message,e.email,e.credential}))}catch(i){alert(i)}case 4:case"end":return r.stop()}}))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"savelogin",value:function(e){this.props.createUserMutation({variables:{user_id:e.user.email,screen_user_name:e.user.displayName}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container-login100"},r.a.createElement("div",{className:"wrap-login100"},r.a.createElement("form",{action:"",method:"post",className:"login100-form validate-form"},r.a.createElement("span",{className:"login100-form-title p-b-43"},"Login to continue"),r.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Valid email is required: ex@abc.xyz"},r.a.createElement("input",{className:"input100",type:"text",name:"email",style:{background:"#f2f2f2",height:"78px",border:"0px"}}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"label-input100"},"Email")),r.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Password is required"},r.a.createElement("input",{className:"input100",type:"password",name:"pass",style:{background:"#f2f2f2",height:"78px",border:"0px"}}),r.a.createElement("span",{className:"focus-input100"}),r.a.createElement("span",{className:"label-input100"},"Password")),r.a.createElement("div",{className:"flex-sb-m w-full p-t-3 p-b-32"},r.a.createElement("div",null,r.a.createElement("a",{href:"#",className:"txt1"},"Forgot Password?"))),r.a.createElement("div",{className:"container-login100-form-btn"},r.a.createElement("button",{className:"login100-form-btn"},"Login")),r.a.createElement("div",{className:"text-center p-t-46 p-b-20"},r.a.createElement("span",{className:"txt2"},"or sign up using")),r.a.createElement("div",{className:"login100-form-social flex-c-m"},r.a.createElement("a",{href:"#",className:"login100-form-social-item flex-c-m bg1 m-r-5",onClick:this.handleFbSignUp},r.a.createElement("i",{className:"fa fa-facebook-f","aria-hidden":"true"})),r.a.createElement("a",{href:"#",className:"login100-form-social-item flex-c-m bg2 m-r-5"},r.a.createElement("i",{className:"fa fa-twitter","aria-hidden":"true"})),r.a.createElement("a",{href:"#",className:"login100-form-social-item flex-c-m bg3 m-r-5",onClick:this.handleSignUp},r.a.createElement("i",{className:"fa fa-google","aria-hidden":"true"})))),r.a.createElement("div",{className:"login100-more"})))}}]),t}(n.Component),Rr=Object(u.d)(Object(u.e)(Nr,{name:"createUserMutation"}))(Object(u.f)(Pr));function Vr(e){var t=e.component,a=e.authenticated,n=Object(Se.a)(e,["component","authenticated"]);return r.a.createElement(w.b,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,Object.assign({},e,n)):r.a.createElement(w.a,{to:"/login"})}}))}var Ar=a(61),Br=a(561),Lr=(K.a.Option,f.a.Content),qr=function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),i=(a[0],a[1],Object(n.useRef)(),Object(C.b)());return Object(n.useEffect)((function(){i({type:T,payload:{component:"dashboard",sideBarMenuKey:"dashboard"}})}),[i]),r.a.createElement(f.a,{className:"app"},r.a.createElement($,{user:e.user}),r.a.createElement(Lr,{className:"content"},r.a.createElement("div",{className:"ant-layout"},r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"flex-col"}," ",r.a.createElement(Br.a,{title:"Monthly Saving ",bordered:!1,headStyle:{background:"#00a0e9"}},r.a.createElement(et,{chartData:e.chartData,month:e.month}))),r.a.createElement("div",{className:"flex-col"}," ",r.a.createElement(Br.a,{title:"Saving By Category",bordered:!1,headStyle:{background:"#00a0e9"}},r.a.createElement(tt,{style:{height:"580"},spendingTypeChartLavel:e.spendingTypeChartLavel,spendingTypeChartSeries:e.spendingTypeChartSeries}))),r.a.createElement("div",{className:"flex-col"}," ",r.a.createElement(Br.a,{title:"Saving By Individual ",bordered:!1,headStyle:{background:"#00a0e9"}},r.a.createElement(at,{paiChartData:e.paiChartData,paiChartLabels:e.paiChartLabels})))),r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",{className:"flex-col"},r.a.createElement(Br.a,{title:"Total Saving By Individual ",bordered:!1,headStyle:{background:"#00a0e9"}},r.a.createElement(De.a,{title:"Primary Total Saving",value:e.primaryTotalSaving,precision:2,valueStyle:{color:"#00a0e9"},suffix:r.a.createElement(_.a,{type:"dollar",theme:"twoTone"})}),r.a.createElement(De.a,{title:"Spouse Total Saving",value:e.spouseTotalSaving,precision:2,valueStyle:{color:"#00a0e9"},suffix:r.a.createElement(_.a,{type:"dollar",theme:"twoTone"})}))),r.a.createElement("div",{className:"flex-col"},r.a.createElement(Br.a,{title:"Total Extra Retirement Saving By Individual",bordered:!1,headStyle:{background:"#00a0e9"}},r.a.createElement(De.a,{title:"Primary Total Extra Retirement Saving",value:e.primaryExtraTotalSaving,precision:2,valueStyle:{color:"#28cf20"},suffix:r.a.createElement(_.a,{type:"dollar",theme:"twoTone"})}),r.a.createElement(De.a,{title:"Spouse Total Extra Retirement Saving",value:e.spouseExtraTotalSaving,precision:2,valueStyle:{color:"#28cf20"},suffix:r.a.createElement(_.a,{type:"dollar",theme:"twoTone"})}))),r.a.createElement("div",{className:"flex-col"})))),r.a.createElement(Gt,null))},Kr=(K.a.Option,f.a.Content),zr=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(p.a)(t).call(this,e))).state={durationView:0,startDate:G,endDate:Z},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.durationView;return r.a.createElement("div",{className:"ant-layout"},r.a.createElement(f.a,{className:"app"},r.a.createElement($,{user:this.props.user}),r.a.createElement(Kr,{className:"content"},r.a.createElement(f.a,{style:{padding:"0px 0px"}},r.a.createElement(z.a.Group,{defaultValue:"0",buttonStyle:"solid",onChange:function(t){e.setState({durationView:t.target.value})}},r.a.createElement(z.a.Button,{value:"0"},"Annually"),r.a.createElement(z.a.Button,{value:"1"},"Quarterly"),r.a.createElement(z.a.Button,{value:"2"},"Monthly"),r.a.createElement(z.a.Button,{value:"3"},"Weekly"),r.a.createElement(z.a.Button,{value:"4"},"Fortnightly")),r.a.createElement(u.c,{query:_e,variables:{user_id:this.props.user.email,tranaction_start_date:this.state.endDate,transaction_end_date:this.state.startDate},fetchPolicy:"network-only"},(function(a){var n=a.loading,i=a.error,o=a.data;if(n)return r.a.createElement("div",{style:{align:"center"}},r.a.createElement(_.a,{type:"loading"}));if(i)return r.a.createElement("div",null,"Error");if(null!=o){var s=function(e,t){var a=[],n=e.savings,r=e.extraRetirementSavingses,i=0,o=0,s=0,u=0;for(var l in n)a.push({topic:n[l].saving_type.saving_type,month:Q()(n[l].transactionDate).format("MMMM"),primarySavings:Math.round(n[l].saving_amount*te[n[l].duration][n[l].duration]/te[t][t]),spouseSavings:Math.round(n[l].spouse_amount*te[n[l].spouse_duration][n[l].spouse_duration]/te[t][t]),primaryExtraRetirementSavingses:0,spouseExtraRetirementSavingses:0,salary_benefit:Math.round(n[l].saving_amount*te[n[l].duration][n[l].duration]/te[t][t])+Math.round(n[l].spouse_amount*te[n[l].spouse_duration][n[l].spouse_duration]/te[t][t])}),i+=Math.round(n[l].saving_amount*te[n[l].duration][n[l].duration]/te[t][t]),o+=Math.round(n[l].spouse_amount*te[n[l].spouse_duration][n[l].spouse_duration]/te[t][t]);for(var d in r)a.push({topic:r[d].extra_retirement_saving_type.extra_retirement_saving_type,month:Q()(r[d].transactionDate).format("MMMM"),primaryExtraRetirementSavingses:Math.round(r[d].extra_retirement_saving_amount*te[r[d].duration][r[d].duration]/te[t][t]),spouseExtraRetirementSavingses:Math.round(r[d].spouse_amount*te[r[d].spouse_duration][r[d].spouse_duration]/te[t][t]),primarySavings:0,spouseSavings:0,salary_benefit:Math.round(r[d].extra_retirement_saving_amount*te[r[d].duration][r[d].duration]/te[t][t])+Math.round(r[d].spouse_amount*te[r[d].spouse_duration][r[d].spouse_duration]/te[t][t])}),s+=Math.round(r[d].extra_retirement_saving_amount*te[r[d].duration][r[d].duration]/te[t][t]),u+=Math.round(r[d].spouse_amount*te[r[d].spouse_duration][r[d].spouse_duration]/te[t][t]);var c=[],p=[],m=ne()(a).groupBy("month").map((function(e,t){return{month:t,name:ne.a.map(e,"topic"),data:ne.a.map(e,"salary_benefit")}})).value();for(var h in m)for(var f in c.push(m[h].month),m[h].name){var y=Object(q.a)(Array(m.length)).map((function(e){return 0}));y.splice(h,1,m[h].data[f]),p.push({name:m[h].name[f],data:y})}var _=[],v=[];ne()(p).groupBy("name").map((function(e,t){_.push(t),v.push(e[0].data.reduce((function(e,t){return e+t}),0))})).value();var b=0,E=0,g=0,x=0;a.filter((function(e){b+=e.primarySavings,E+=e.spouseSavings,g+=e.primaryExtraRetirementSavingses,x+=e.spouseExtraRetirementSavingses}));return{chartData12:p,month:c,paiChartData:[b,E,g,x],labels:_,series:v,paiChartLabels:["Primary Savings","Spouse Savings","Primary Extra Saving","Spouse Extra Saving"],primaryTotalSaving:i,spouseTotalSaving:o,primaryExtraTotalSaving:s,spouseExtraTotalSaving:u}}(o,t),u=s.chartData12,l=s.month,d=s.paiChartData,c=s.labels,p=s.series,m=s.paiChartLabels,h=s.primaryTotalSaving,f=s.spouseTotalSaving,y=s.primaryExtraTotalSaving,v=s.spouseExtraTotalSaving;return r.a.createElement(qr,{onRef:function(t){return e.child=t},chartData:u,month:l,paiChartData:d,durationView:t,spendingTypeChartLavel:c,spendingTypeChartSeries:p,paiChartLabels:m,primaryTotalSaving:h,spouseTotalSaving:f,primaryExtraTotalSaving:y,spouseExtraTotalSaving:v,user:e.props.user})}}))))))}}]),t}(r.a.Component),Yr=Object(u.d)(Object(u.e)(de,{name:"createSavingsMutation"}))(Object(u.f)(zr)),Qr=Object(Ar.b)(),Wr=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,authenticated:!1,user:null},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=this;I.auth().onAuthStateChanged((function(t){t?(e.setState({authenticated:!0,user:t,loading:!1}),Qr.push("/")):e.setState({authenticated:!1,user:null,loading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.authenticated,a=e.loading,n=e.user;return a?r.a.createElement("p",null,"Loading.."):r.a.createElement("div",{className:"app-container cover"},r.a.createElement(w.d,null,r.a.createElement(Vr,{exact:!0,path:"/",component:Yr,authenticated:t,user:n}),r.a.createElement(Vr,{exact:!0,path:"/budget",component:Ja,authenticated:t,user:n}),r.a.createElement(w.b,{exact:!0,path:"/login",component:Rr}),r.a.createElement(Vr,{exact:!0,path:"/paystub",component:mr,authenticated:t,user:n}),r.a.createElement(Vr,{exact:!0,path:"/advice",component:yr,authenticated:t,user:n}),r.a.createElement(Vr,{exact:!0,path:"/goals",component:Dr,authenticated:t,user:n}),r.a.createElement(Vr,{exact:!0,path:"/calculator",component:Cr,authenticated:t,user:n}),r.a.createElement(Vr,{exatc:!0,path:"/accounts",component:Mr,authenticated:t,user:n}),r.a.createElement(Vr,{path:"/budget/budgetspending",component:Ja,authenticated:t,user:n}),r.a.createElement(Vr,{path:"/budget/trackers",component:Ja,authenticated:t,user:n}),r.a.createElement(Vr,{path:"/budget/cashflow",component:Ja,authenticated:t,user:n}),r.a.createElement(Vr,{path:"/budget/saving",component:Ja,authenticated:t,user:n}),r.a.createElement(Vr,{path:"/budget/income",component:Ja,authenticated:t,user:n}),r.a.createElement(Vr,{path:"/paystub/manualentry",component:mr,authenticated:t,user:n}),r.a.createElement(Vr,{path:"/paystub/autoscanpdf",component:mr,authenticated:t,user:n}),r.a.createElement(Vr,{path:"/accounts/cash",component:Mr,authenticated:t,user:n}),r.a.createElement(Vr,{path:"/budget/budgetEntry",component:Ja,authenticated:t,user:n})))}}]),t}(n.Component),Hr=a(111),Ur={currentComponent:"",sideBarMenuItemKey:"",sideBarMenuOptionKey:""},Jr=Object(Hr.b)({currentComponetReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ur,t=arguments.length>1?arguments[1]:void 0;return t.type===T?Object(ve.a)({},e,{currentComponent:t.payload.component,sideBarMenuItemKey:t.payload.sideBarMenuKey,sideBarMenuOptionKey:t.payload.sideBarMenuOptionKey}):e}}),Gr=Object(Hr.c)(Jr),Xr=a(282),Zr=a(281),ei=Object(Zr.createUploadLink)({uri:"https://smart-money-server.herokuapp.com/graphql"}),ti=new Xr.a,ai=new s.c({cache:ti,link:ei});o.a.render(r.a.createElement(j.a,null,r.a.createElement(u.a,{client:ai},r.a.createElement(C.a,{store:Gr},r.a.createElement(Wr,null)))),document.getElementById("root"))},78:function(e,t,a){}},[[286,1,2]]]);
//# sourceMappingURL=main.42489970.chunk.js.map